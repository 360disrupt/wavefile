(function t(e,i){if(typeof exports==="object"&&typeof module==="object")module.exports=i();else if(typeof define==="function"&&define.amd)define([],i);else if(typeof exports==="object")exports["WaveFile"]=i();else e["WaveFile"]=i()})(typeof self!=="undefined"?self:this,function(){return function(i){var s={};function n(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:false,exports:{}};i[t].call(e.exports,e,e.exports,n);e.l=true;return e.exports}n.m=i;n.c=s;n.d=function(t,e,i){if(!n.o(t,e))Object.defineProperty(t,e,{configurable:false,enumerable:true,get:i})};n.n=function(e){var t=e&&e.__esModule?function t(){return e["default"]}:function t(){return e};n.d(t,"a",t);return t};n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};n.p="";return n(n.s=1)}([function(t,e,i){var s=i(4);function n(t,e){s.setUp(e);return s.toBytes([t],e)}function r(t,e){s.setUp(e);var i=s.fromBytes(t.slice(0,e["offset"]),e);return i?i[0]:e["char"]?"":null}function a(t,e){s.setUp(e);return s.toBytes(t,e)}function h(t,e){s.setUp(e);return s.fromBytes(t,e)}t.exports.pack=n;t.exports.unpack=r;t.exports.packArray=a;t.exports.unpackArray=h;t.exports.types=i(7)},function(t,e,i){var n=i(2);var s=i(3);var r=i(8);var a=i(9);var h=i(12);var o=i(0);var u={bits:16};var f={bits:32};var c=function(t){t=t===undefined?null:t;this.container="";this.chunkSize=0;this.format="";this.fmt={chunkId:"",chunkSize:0,audioFormat:0,numChannels:0,sampleRate:0,byteRate:0,blockAlign:0,bitsPerSample:0,cbSize:0,validBitsPerSample:0,dwChannelMask:0,subformat:[]};this.fact={chunkId:"",chunkSize:0,dwSampleLength:0};this.cue={chunkId:"",chunkSize:0,dwCuePoints:0,points:[]};this.smpl={chunkId:"",chunkSize:0,dwManufacturer:0,dwProduct:0,dwSamplePeriod:0,dwMIDIUnityNote:0,dwMIDIPitchFraction:0,dwSMPTEFormat:0,dwSMPTEOffset:0,dwNumSampleLoops:0,dwSamplerData:0,loops:[]};this.bext={chunkId:"",chunkSize:0,description:"",originator:"",originatorReference:"",originationDate:"",originationTime:"",timeReference:[0,0],version:0,UMID:"",loudnessValue:0,loudnessRange:0,maxTruePeakLevel:0,maxMomentaryLoudness:0,maxShortTermLoudness:0,reserved:"",codingHistory:""};this.ds64={chunkId:"",chunkSize:0,riffSizeHigh:0,riffSizeLow:0,dataSizeHigh:0,dataSizeLow:0,originationTime:0,sampleCountHigh:0,sampleCountLow:0};this.data={chunkId:"",chunkSize:0,samples:[]};this.LIST=[];this.junk={chunkId:"",chunkSize:0,chunkData:[]};this.isInterleaved=true;this.bitDepth="0";this.audioFormats_={4:17,8:1,"8a":6,"8m":7,16:1,24:1,32:1,"32f":3,64:3};this.head_=0;if(t)this.fromBuffer(t)};c.prototype.fromScratch=function(t,e,i,s,n){n=n===undefined?{}:n;if(!n["container"])n["container"]="RIFF";this.bitDepth=i;this.data.samples=s;if(s.length>0)if(s[0].constructor===Array){this.isInterleaved=false;this.assureInterleaved_()}var r=((parseInt(i,10)-1|7)+1)/8;this.createPCMHeader_(i,t,e,r,n);if(i=="4")this.createADPCMHeader_(i,t,e,r,n);else if(i=="8a"||i=="8m")this.createALawMulawHeader_(i,t,e,r,n);else if(Object.keys(this.audioFormats_).indexOf(i)==-1||this.fmt.numChannels>2)this.createExtensibleHeader_(i,t,e,r,n);this.data.chunkId="data";this.data.chunkSize=this.data.samples.length*r;this.validateHeader_();this.LEorBE_()};c.prototype.fromBuffer=function(t){this.clearHeader_();this.readRIFFChunk_(t);var e=s.read(t);this.readDs64Chunk_(e["subChunks"]);this.readFmtChunk_(e["subChunks"]);this.readFactChunk_(e["subChunks"]);this.readBextChunk_(e["subChunks"]);this.readCueChunk_(e["subChunks"]);this.readSmplChunk_(e["subChunks"]);this.readDataChunk_(e["subChunks"]);this.readLISTChunk_(e["subChunks"]);this.readJunkChunk_(e["subChunks"]);this.bitDepthFromFmt_()};c.prototype.toBuffer=function(){this.validateHeader_();this.assureInterleaved_();return this.createWaveFile_()};c.prototype.fromBase64=function(t){this.fromBuffer(new Uint8Array(h.decode(t)))};c.prototype.toBase64=function(){return h.encode(this.toBuffer())};c.prototype.toDataURI=function(){return"data:audio/wav;base64,"+this.toBase64()};c.prototype.fromDataURI=function(t){this.fromBase64(t.replace("data:audio/wav;base64,",""))};c.prototype.toRIFF=function(){if(this.container=="RF64")this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,this.bitDepth,this.data.samples);else{this.container="RIFF";this.LEorBE_()}};c.prototype.toRIFX=function(){if(this.container=="RF64")this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,this.bitDepth,this.data.samples,{container:"RIFX"});else{this.container="RIFX";this.LEorBE_()}};c.prototype.toBitDepth=function(t,e){e=e===undefined?true:e;var i=t;var s=this.bitDepth;if(!e){i=this.realBitDepth_(t);s=this.realBitDepth_(this.bitDepth)}this.assureInterleaved_();this.assureUncompressed_();this.truncateSamples();n(this.data.samples,s,i);this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,t,this.data.samples,{container:this.correctContainer_()})};c.prototype.interleave=function(){if(!this.isInterleaved){var t=[];for(var e=0;e<this.data.samples[0].length;e++)for(var i=0;i<this.data.samples.length;i++)t.push(this.data.samples[i][e]);this.data.samples=t;this.isInterleaved=true}};c.prototype.deInterleave=function(){if(this.isInterleaved){var t=[];for(var e=0;e<this.fmt.numChannels;e++)t[e]=[];var i=this.data.samples.length;for(var s=0;s<i;s+=this.fmt.numChannels)for(var n=0;n<this.fmt.numChannels;n++)t[n].push(this.data.samples[s+n]);this.data.samples=t;this.isInterleaved=false}};c.prototype.toIMAADPCM=function(){if(this.fmt.sampleRate!=8e3)throw new Error("Only 8000 Hz files can be compressed as IMA-ADPCM.");else if(this.fmt.numChannels!=1)throw new Error("Only mono files can be compressed as IMA-ADPCM.");else{this.assure16Bit_();this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,"4",r.encode(this.data.samples),{container:this.correctContainer_()})}};c.prototype.fromIMAADPCM=function(t){t=t===undefined?"16":t;this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,"16",r.decode(this.data.samples,this.fmt.blockAlign),{container:this.correctContainer_()});if(t!="16")this.toBitDepth(t)};c.prototype.toALaw=function(){this.assure16Bit_();this.assureInterleaved_();this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,"8a",a.alaw.encode(this.data.samples),{container:this.correctContainer_()})};c.prototype.fromALaw=function(t){t=t===undefined?"16":t;this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,"16",a.alaw.decode(this.data.samples),{container:this.correctContainer_()});if(t!="16")this.toBitDepth(t)};c.prototype.toMuLaw=function(){this.assure16Bit_();this.assureInterleaved_();this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,"8m",a.mulaw.encode(this.data.samples),{container:this.correctContainer_()})};c.prototype.fromMuLaw=function(t){t=t===undefined?"16":t;this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,"16",a.mulaw.decode(this.data.samples),{container:this.correctContainer_()});if(t!="16")this.toBitDepth(t)};c.prototype.setTag=function(t,e){t=this.fixTagName_(t);var i=this.getTagIndex_(t);if(i.TAG!==null){this.LIST[i.LIST]["subChunks"][i.TAG]["chunkSize"]=e.length+1;this.LIST[i.LIST]["subChunks"][i.TAG]["value"]=e}else if(i.LIST!==null)this.LIST[i.LIST]["subChunks"].push({chunkId:t,chunkSize:e.length+1,value:e});else{this.LIST.push({chunkId:"LIST",chunkSize:8+e.length+1,format:"INFO",chunkData:[],subChunks:[]});this.LIST[this.LIST.length-1]["subChunks"].push({chunkId:t,chunkSize:e.length+1,value:e})}};c.prototype.getTag=function(t){var e=this.getTagIndex_(t);if(e.TAG!==null)return this.LIST[e.LIST]["subChunks"][e.TAG]["value"];return null};c.prototype.deleteTag=function(t){var e=this.getTagIndex_(t);if(e.TAG!==null){this.LIST[e.LIST]["subChunks"].splice(e.TAG,1);return true}return false};c.prototype.setCuePoint=function(t,e){e=e===undefined?"":e;this.cue.chunkId="cue ";t=t*this.fmt.sampleRate/1e3;var i=this.getCuePoints_();this.clearLISTadtl_();var s=this.cue.points.length;this.cue.points=[];var n=false;if(s==0)this.setCuePoint_(t,1,e);else{for(var r=0;r<s;r++)if(i[r]["dwPosition"]>t&&!n){this.setCuePoint_(t,r+1,e);this.setCuePoint_(i[r]["dwPosition"],r+2,i[r]["label"]);n=true}else this.setCuePoint_(i[r]["dwPosition"],r+1,i[r]["label"]);if(!n)this.setCuePoint_(t,this.cue.points.length+1,e)}this.cue.dwCuePoints=this.cue.points.length};c.prototype.deleteCuePoint=function(t){this.cue.chunkId="cue ";var e=this.getCuePoints_();this.clearLISTadtl_();var i=this.cue.points.length;this.cue.points=[];for(var s=0;s<i;s++)if(s+1!=t)this.setCuePoint_(e[s]["dwPosition"],s+1,e[s]["label"]);this.cue.dwCuePoints=this.cue.points.length;if(this.cue.dwCuePoints)this.cue.chunkId="cue ";else{this.cue.chunkId="";this.clearLISTadtl_()}};c.prototype.updateLabel=function(t,e){var i=this.getAdtlChunk_();if(i!==null)for(var s=0;s<this.LIST[i]["subChunks"].length;s++)if(this.LIST[i]["subChunks"][s]["dwName"]==t)this.LIST[i]["subChunks"][s]["value"]=e};c.prototype.setCuePoint_=function(t,e,i){this.cue.points.push({dwName:e,dwPosition:t,fccChunk:"data",dwChunkStart:0,dwBlockStart:0,dwSampleOffset:t});this.setLabl_(e,i)};c.prototype.getCuePoints_=function(){var t=[];for(var e=0;e<this.cue.points.length;e++)t.push({dwPosition:this.cue.points[e]["dwPosition"],label:this.getLabelForCuePoint_(this.cue.points[e]["dwName"])});return t};c.prototype.getLabelForCuePoint_=function(t){var e=this.getAdtlChunk_();if(e!==null)for(var i=0;i<this.LIST[e]["subChunks"].length;i++)if(this.LIST[e]["subChunks"][i]["dwName"]==t)return this.LIST[e]["subChunks"][i]["value"];return""};c.prototype.clearLISTadtl_=function(){for(var t=0;t<this.LIST.length;t++)if(this.LIST[t]["format"]=="adtl")this.LIST.splice(t)};c.prototype.setLabl_=function(t,e){var i=this.getAdtlChunk_();if(i===null){this.LIST.push({chunkId:"LIST",chunkSize:4,format:"adtl",chunkData:[],subChunks:[]});i=this.LIST.length-1}this.setLabelText_(i===null?0:i,t,e)};c.prototype.setLabelText_=function(t,e,i){this.LIST[t]["subChunks"].push({chunkId:"labl",chunkSize:i.length,dwName:e,value:i});this.LIST[t]["chunkSize"]+=i.length+4+4+4+1};c.prototype.getAdtlChunk_=function(){for(var t=0;t<this.LIST.length;t++)if(this.LIST[t]["format"]=="adtl")return t;return null};c.prototype.getTagIndex_=function(t){var e={LIST:null,TAG:null};for(var i=0;i<this.LIST.length;i++)if(this.LIST[i]["format"]=="INFO"){e.LIST=i;for(var s=0;s<this.LIST[i]["subChunks"].length;s++)if(this.LIST[i]["subChunks"][s]["chunkId"]==t){e.TAG=s;break}break}return e};c.prototype.fixTagName_=function(t){if(t.constructor!==String)throw new Error("Invalid tag name.");else if(t.length<4)for(var e=0;e<4-t.length;e++)t+=" ";return t};c.prototype.createADPCMHeader_=function(t,e,i,s,n){this.createPCMHeader_(t,e,i,s,n);this.chunkSize=40+this.data.samples.length;this.fmt.chunkSize=20;this.fmt.byteRate=4055;this.fmt.blockAlign=256;this.fmt.bitsPerSample=4;this.fmt.cbSize=2;this.fmt.validBitsPerSample=505;this.fact.chunkId="fact";this.fact.chunkSize=4;this.fact.dwSampleLength=this.data.samples.length*2;this.data.chunkSize=this.data.samples.length};c.prototype.createExtensibleHeader_=function(t,e,i,s,n){this.createPCMHeader_(t,e,i,s,n);this.chunkSize=36+24+this.data.samples.length*s;this.fmt.chunkSize=40;this.fmt.bitsPerSample=(parseInt(t,10)-1|7)+1;this.fmt.cbSize=22;this.fmt.validBitsPerSample=parseInt(t,10);this.fmt.dwChannelMask=this.getDwChannelMask_();this.fmt.subformat=[1,1048576,2852126848,1905997824]};c.prototype.getDwChannelMask_=function(){var t=0;if(this.fmt.numChannels==1)t=4;else if(this.fmt.numChannels==2)t=3;else if(this.fmt.numChannels==4)t=51;else if(this.fmt.numChannels==6)t=63;else if(this.fmt.numChannels==8)t=1599;return t};c.prototype.createALawMulawHeader_=function(t,e,i,s,n){this.createPCMHeader_(t,e,i,s,n);this.chunkSize=40+this.data.samples.length;this.fmt.chunkSize=20;this.fmt.cbSize=2;this.fmt.validBitsPerSample=8;this.fact.chunkId="fact";this.fact.chunkSize=4;this.fact.dwSampleLength=this.data.samples.length};c.prototype.createPCMHeader_=function(t,e,i,s,n){this.clearHeader_();this.container=n["container"];this.chunkSize=36+this.data.samples.length*s;this.format="WAVE";this.fmt.chunkId="fmt ";this.fmt.chunkSize=16;this.fmt.byteRate=e*s*i;this.fmt.blockAlign=e*s;this.fmt.audioFormat=this.audioFormats_[t]?this.audioFormats_[t]:65534;this.fmt.numChannels=e;this.fmt.sampleRate=i;this.fmt.bitsPerSample=parseInt(t,10);this.fmt.cbSize=0;this.fmt.validBitsPerSample=0};c.prototype.realBitDepth_=function(t){if(t!="32f")t=((parseInt(t,10)-1|7)+1).toString();return t};c.prototype.validateHeader_=function(){this.validateBitDepth_();this.validateNumChannels_();this.validateSampleRate_()};c.prototype.validateBitDepth_=function(){if(!this.audioFormats_[this.bitDepth]){if(parseInt(this.bitDepth,10)>8&&parseInt(this.bitDepth,10)<54)return true;throw new Error("Invalid bit depth.")}return true};c.prototype.validateNumChannels_=function(){var t=this.fmt.numChannels*this.fmt.bitsPerSample/8;if(this.fmt.numChannels<1||t>65535)throw new Error("Invalid number of channels.");return true};c.prototype.validateSampleRate_=function(){var t=this.fmt.numChannels*(this.fmt.bitsPerSample/8)*this.fmt.sampleRate;if(this.fmt.sampleRate<1||t>4294967295)throw new Error("Invalid sample rate.");return true};c.prototype.clearHeader_=function(){this.fmt.cbSize=0;this.fmt.validBitsPerSample=0;this.fact.chunkId="";this.ds64.chunkId=""};c.prototype.assure16Bit_=function(){this.assureUncompressed_();if(this.bitDepth!="16")this.toBitDepth("16")};c.prototype.assureUncompressed_=function(){if(this.bitDepth=="8a")this.fromALaw();else if(this.bitDepth=="8m")this.fromMuLaw();else if(this.bitDepth=="4")this.fromIMAADPCM()};c.prototype.assureInterleaved_=function(){if(!this.isInterleaved)this.interleave()};c.prototype.LEorBE_=function(){var t=this.container==="RIFX";u["be"]=t;f["be"]=t;return t};c.prototype.findChunk_=function(t,e,i){i=i===undefined?false:i;var s=[];for(var n=0;n<t.length;n++)if(t[n]["chunkId"]==e)if(i)s.push(t[n]);else return t[n];if(e=="LIST")return s.length?s:null;return null};c.prototype.readRIFFChunk_=function(t){this.head_=0;this.container=this.readString_(t,4);if(["RIFF","RIFX","RF64"].indexOf(this.container)===-1)throw Error("Not a supported format.");this.LEorBE_();this.chunkSize=this.read_(t,f);this.format=this.readString_(t,4);if(this.format!="WAVE")throw Error("Could not find the 'WAVE' format identifier")};c.prototype.readFmtChunk_=function(t){var e=this.findChunk_(t,"fmt ");if(e){this.head_=0;var i=e["chunkData"];this.fmt.chunkId=e["chunkId"];this.fmt.chunkSize=e["chunkSize"];this.fmt.audioFormat=this.read_(i,u);this.fmt.numChannels=this.read_(i,u);this.fmt.sampleRate=this.read_(i,f);this.fmt.byteRate=this.read_(i,f);this.fmt.blockAlign=this.read_(i,u);this.fmt.bitsPerSample=this.read_(i,u);this.readFmtExtension_(i)}else throw Error("Could not find the 'fmt ' chunk")};c.prototype.readFmtExtension_=function(t){if(this.fmt.chunkSize>16){this.fmt.cbSize=this.read_(t,u);if(this.fmt.chunkSize>18){this.fmt.validBitsPerSample=this.read_(t,u);if(this.fmt.chunkSize>20){this.fmt.dwChannelMask=this.read_(t,f);this.fmt.subformat=[this.read_(t,f),this.read_(t,f),this.read_(t,f),this.read_(t,f)]}}}};c.prototype.readFactChunk_=function(t){var e=this.findChunk_(t,"fact");if(e){this.head_=0;this.fact.chunkId=e["chunkId"];this.fact.chunkSize=e["chunkSize"];this.fact.dwSampleLength=this.read_(e["chunkData"],f)}};c.prototype.readCueChunk_=function(t){var e=this.findChunk_(t,"cue ");if(e){this.head_=0;var i=e["chunkData"];this.cue.chunkId=e["chunkId"];this.cue.chunkSize=e["chunkSize"];this.cue.dwCuePoints=this.read_(i,f);for(var s=0;s<this.cue.dwCuePoints;s++)this.cue.points.push({dwName:this.read_(i,f),dwPosition:this.read_(i,f),fccChunk:this.readString_(i,4),dwChunkStart:this.read_(i,f),dwBlockStart:this.read_(i,f),dwSampleOffset:this.read_(i,f)})}};c.prototype.readSmplChunk_=function(t){var e=this.findChunk_(t,"smpl");if(e){this.head_=0;var i=e["chunkData"];this.smpl.chunkId=e["chunkId"];this.smpl.chunkSize=e["chunkSize"];this.smpl.dwManufacturer=this.read_(i,f);this.smpl.dwProduct=this.read_(i,f);this.smpl.dwSamplePeriod=this.read_(i,f);this.smpl.dwMIDIUnityNote=this.read_(i,f);this.smpl.dwMIDIPitchFraction=this.read_(i,f);this.smpl.dwSMPTEFormat=this.read_(i,f);this.smpl.dwSMPTEOffset=this.read_(i,f);this.smpl.dwNumSampleLoops=this.read_(i,f);this.smpl.dwSamplerData=this.read_(i,f);for(var s=0;s<this.smpl.dwNumSampleLoops;s++)this.smpl.loops.push({dwName:this.read_(i,f),dwType:this.read_(i,f),dwStart:this.read_(i,f),dwEnd:this.read_(i,f),dwFraction:this.read_(i,f),dwPlayCount:this.read_(i,f)})}};c.prototype.readDataChunk_=function(t){var e=this.findChunk_(t,"data");if(e){this.data.chunkId="data";this.data.chunkSize=e["chunkSize"];this.samplesFromBytes_(e["chunkData"])}else throw Error("Could not find the 'data' chunk")};c.prototype.readBextChunk_=function(t){var e=this.findChunk_(t,"bext");if(e){this.head_=0;var i=e["chunkData"];this.bext.chunkId=e["chunkId"];this.bext.chunkSize=e["chunkSize"];this.bext.description=this.readString_(i,256);this.bext.originator=this.readString_(i,32);this.bext.originatorReference=this.readString_(i,32);this.bext.originationDate=this.readString_(i,10);this.bext.originationTime=this.readString_(i,8);this.bext.timeReference=[this.read_(i,f),this.read_(i,f)];this.bext.version=this.read_(i,u);this.bext.UMID=this.readString_(i,64);this.bext.loudnessValue=this.read_(i,u);this.bext.loudnessRange=this.read_(i,u);this.bext.maxTruePeakLevel=this.read_(i,u);this.bext.maxMomentaryLoudness=this.read_(i,u);this.bext.maxShortTermLoudness=this.read_(i,u);this.bext.reserved=this.readString_(i,180);this.bext.codingHistory=this.readString_(i,this.bext.chunkSize-602)}};c.prototype.readDs64Chunk_=function(t){var e=this.findChunk_(t,"ds64");if(e){this.head_=0;var i=e["chunkData"];this.ds64.chunkId=e["chunkId"];this.ds64.chunkSize=e["chunkSize"];this.ds64.riffSizeHigh=this.read_(i,f);this.ds64.riffSizeLow=this.read_(i,f);this.ds64.dataSizeHigh=this.read_(i,f);this.ds64.dataSizeLow=this.read_(i,f);this.ds64.originationTime=this.read_(i,f);this.ds64.sampleCountHigh=this.read_(i,f);this.ds64.sampleCountLow=this.read_(i,f)}else if(this.container=="RF64")throw Error("Could not find the 'ds64' chunk")};c.prototype.readLISTChunk_=function(t){var e=this.findChunk_(t,"LIST",true);if(e===null)return;for(var i=0;i<e.length;i++){var s=e[i];this.LIST.push({chunkId:s["chunkId"],chunkSize:s["chunkSize"],format:s["format"],chunkData:s["chunkData"],subChunks:[]});for(var n=0;n<s["subChunks"].length;n++)this.readLISTSubChunks_(s["subChunks"][n],s["format"])}};c.prototype.readLISTSubChunks_=function(t,e){this.head_=0;if(e=="adtl"){if(["labl","note","ltxt"].indexOf(t["chunkId"])>-1){var i={chunkId:t["chunkId"],chunkSize:t["chunkSize"],dwName:this.read_(t["chunkData"],f)};if(t["chunkId"]=="ltxt"){i["dwSampleLength"]=this.read_(t["chunkData"],f);i["dwPurposeID"]=this.read_(t["chunkData"],f);i["dwCountry"]=this.read_(t["chunkData"],u);i["dwLanguage"]=this.read_(t["chunkData"],u);i["dwDialect"]=this.read_(t["chunkData"],u);i["dwCodePage"]=this.read_(t["chunkData"],u)}i["value"]=this.readZSTR_(t["chunkData"].slice(this.head_));this.LIST[this.LIST.length-1]["subChunks"].push(i)}}else if(e=="INFO")this.LIST[this.LIST.length-1]["subChunks"].push({chunkId:t["chunkId"],chunkSize:t["chunkSize"],value:this.readZSTR_(t["chunkData"].slice(0))})};c.prototype.readJunkChunk_=function(t){var e=this.findChunk_(t,"junk");if(e)this.junk={chunkId:e["chunkId"],chunkSize:e["chunkSize"],chunkData:e["chunkData"]}};c.prototype.readZSTR_=function(t){var e="";for(var i=0;i<t.length;i++){if(t[i]===0)break;e+=o.unpack([t[i]],o.types.chr)}return e};c.prototype.readString_=function(t,e){var i="";for(var s=0;s<e;s++){i+=o.unpack([t[this.head_]],o.types.chr);this.head_++}return i};c.prototype.read_=function(t,e){var i=e["bits"]/8;var s=o.unpack(t.slice(this.head_,this.head_+i),e);this.head_+=i;return s};c.prototype.writeString_=function(t,e,i){i=i===undefined?true:i;var s=o.packArray(t,o.types.chr);if(i)for(var n=s.length;n<e;n++)s.push(0);return s};c.prototype.samplesToBytes_=function(){return o.packArray(this.data.samples,this.getSamplesType_())};c.prototype.truncateSamples=function(){if(this.fmt.audioFormat==3){var t=this.data.samples.length;for(var e=0;e<t;e++)if(this.data.samples[e]>1)this.data.samples[e]=1;else if(this.data.samples[e]<-1)this.data.samples[e]=-1}};c.prototype.samplesFromBytes_=function(t){this.data.samples=o.unpackArray(t,this.getSamplesType_())};c.prototype.getSamplesType_=function(){var t={be:this.container==="RIFX",bits:this.fmt.bitsPerSample==4?8:this.fmt.bitsPerSample,float:this.fmt.audioFormat==3?true:false};t["signed"]=t["bits"]==8?false:true;return t};c.prototype.getBextBytes_=function(){var t=[];this.enforceBext_();if(this.bext.chunkId)t=t.concat(o.pack(this.bext.chunkId,o.types.fourCC),o.pack(602+this.bext.codingHistory.length,f),this.writeString_(this.bext.description,256),this.writeString_(this.bext.originator,32),this.writeString_(this.bext.originatorReference,32),this.writeString_(this.bext.originationDate,10),this.writeString_(this.bext.originationTime,8),o.pack(this.bext.timeReference[0],f),o.pack(this.bext.timeReference[1],f),o.pack(this.bext.version,u),this.writeString_(this.bext.UMID,64),o.pack(this.bext.loudnessValue,u),o.pack(this.bext.loudnessRange,u),o.pack(this.bext.maxTruePeakLevel,u),o.pack(this.bext.maxMomentaryLoudness,u),o.pack(this.bext.maxShortTermLoudness,u),this.writeString_(this.bext.reserved,180),this.writeString_(this.bext.codingHistory,this.bext.codingHistory.length));return t};c.prototype.enforceBext_=function(){for(var t in this.bext)if(this.bext.hasOwnProperty(t))if(this.bext[t]&&t!="timeReference"){this.bext.chunkId="bext";break}if(this.bext.timeReference[0]||this.bext.timeReference[1])this.bext.chunkId="bext"};c.prototype.getDs64Bytes_=function(){var t=[];if(this.ds64.chunkId)t=t.concat(o.pack(this.ds64.chunkId,o.types.fourCC),o.pack(this.ds64.chunkSize,f),o.pack(this.ds64.riffSizeHigh,f),o.pack(this.ds64.riffSizeLow,f),o.pack(this.ds64.dataSizeHigh,f),o.pack(this.ds64.dataSizeLow,f),o.pack(this.ds64.originationTime,f),o.pack(this.ds64.sampleCountHigh,f),o.pack(this.ds64.sampleCountLow,f));return t};c.prototype.getCueBytes_=function(){var t=[];if(this.cue.chunkId){var e=this.getCuePointsBytes_();t=t.concat(o.pack(this.cue.chunkId,o.types.fourCC),o.pack(e.length+4,f),o.pack(this.cue.dwCuePoints,f),e)}return t};c.prototype.getCuePointsBytes_=function(){var t=[];for(var e=0;e<this.cue.dwCuePoints;e++)t=t.concat(o.pack(this.cue.points[e]["dwName"],f),o.pack(this.cue.points[e]["dwPosition"],f),o.pack(this.cue.points[e]["fccChunk"],o.types.fourCC),o.pack(this.cue.points[e]["dwChunkStart"],f),o.pack(this.cue.points[e]["dwBlockStart"],f),o.pack(this.cue.points[e]["dwSampleOffset"],f));return t};c.prototype.getSmplBytes_=function(){var t=[];if(this.smpl.chunkId){var e=this.getSmplLoopsBytes_();t=t.concat(o.pack(this.smpl.chunkId,o.types.fourCC),o.pack(e.length+36,f),o.pack(this.smpl.dwManufacturer,f),o.pack(this.smpl.dwProduct,f),o.pack(this.smpl.dwSamplePeriod,f),o.pack(this.smpl.dwMIDIUnityNote,f),o.pack(this.smpl.dwMIDIPitchFraction,f),o.pack(this.smpl.dwSMPTEFormat,f),o.pack(this.smpl.dwSMPTEOffset,f),o.pack(this.smpl.dwNumSampleLoops,f),o.pack(this.smpl.dwSamplerData,f),e)}return t};c.prototype.getSmplLoopsBytes_=function(){var t=[];for(var e=0;e<this.smpl.dwNumSampleLoops;e++)t=t.concat(o.pack(this.smpl.loops[e]["dwName"],f),o.pack(this.smpl.loops[e]["dwType"],f),o.pack(this.smpl.loops[e]["dwStart"],f),o.pack(this.smpl.loops[e]["dwEnd"],f),o.pack(this.smpl.loops[e]["dwFraction"],f),o.pack(this.smpl.loops[e]["dwPlayCount"],f));return t};c.prototype.getFactBytes_=function(){var t=[];if(this.fact.chunkId)t=t.concat(o.pack(this.fact.chunkId,o.types.fourCC),o.pack(this.fact.chunkSize,f),o.pack(this.fact.dwSampleLength,f));return t};c.prototype.getFmtBytes_=function(){if(this.fmt.chunkId)return[].concat(o.pack(this.fmt.chunkId,o.types.fourCC),o.pack(this.fmt.chunkSize,f),o.pack(this.fmt.audioFormat,u),o.pack(this.fmt.numChannels,u),o.pack(this.fmt.sampleRate,f),o.pack(this.fmt.byteRate,f),o.pack(this.fmt.blockAlign,u),o.pack(this.fmt.bitsPerSample,u),this.getFmtExtensionBytes_());throw Error("Could not find the 'fmt ' chunk")};c.prototype.getFmtExtensionBytes_=function(){var t=[];if(this.fmt.chunkSize>16)t=t.concat(o.pack(this.fmt.cbSize,u));if(this.fmt.chunkSize>18)t=t.concat(o.pack(this.fmt.validBitsPerSample,u));if(this.fmt.chunkSize>20)t=t.concat(o.pack(this.fmt.dwChannelMask,f));if(this.fmt.chunkSize>24)t=t.concat(o.pack(this.fmt.subformat[0],f),o.pack(this.fmt.subformat[1],f),o.pack(this.fmt.subformat[2],f),o.pack(this.fmt.subformat[3],f));return t};c.prototype.getLISTBytes_=function(){var t=[];for(var e=0;e<this.LIST.length;e++){var i=this.getLISTSubChunksBytes_(this.LIST[e]["subChunks"],this.LIST[e]["format"]);t=t.concat(o.pack(this.LIST[e]["chunkId"],o.types.fourCC),o.pack(i.length+4,f),o.pack(this.LIST[e]["format"],o.types.fourCC),i)}return t};c.prototype.getLISTSubChunksBytes_=function(t,e){var i=[];for(var s=0;s<t.length;s++){if(e=="INFO"){i=i.concat(o.pack(t[s]["chunkId"],o.types.fourCC),o.pack(t[s]["value"].length+1,f),this.writeString_(t[s]["value"],t[s]["value"].length));i.push(0)}else if(e=="adtl")if(["labl","note"].indexOf(t[s]["chunkId"])>-1){i=i.concat(o.pack(t[s]["chunkId"],o.types.fourCC),o.pack(t[s]["value"].length+4+1,f),o.pack(t[s]["dwName"],f),this.writeString_(t[s]["value"],t[s]["value"].length));i.push(0)}else if(t[s]["chunkId"]=="ltxt")i=i.concat(this.getLtxtChunkBytes_(t[s]));if(i.length%2)i.push(0)}return i};c.prototype.getLtxtChunkBytes_=function(t){return[].concat(o.pack(t["chunkId"],o.types.fourCC),o.pack(t["value"].length+20,f),o.pack(t["dwName"],f),o.pack(t["dwSampleLength"],f),o.pack(t["dwPurposeID"],f),o.pack(t["dwCountry"],u),o.pack(t["dwLanguage"],u),o.pack(t["dwLanguage"],u),o.pack(t["dwCodePage"],u),this.writeString_(t["value"],t["value"].length))};c.prototype.getJunkBytes_=function(){var t=[];if(this.junk.chunkId)return t.concat(o.pack(this.junk.chunkId,o.types.fourCC),o.pack(this.junk.chunkData.length,f),this.junk.chunkData);return t};c.prototype.correctContainer_=function(){return this.container=="RF64"?"RIFF":this.container};c.prototype.bitDepthFromFmt_=function(){if(this.fmt.audioFormat==3&&this.fmt.bitsPerSample==32)this.bitDepth="32f";else if(this.fmt.audioFormat==6)this.bitDepth="8a";else if(this.fmt.audioFormat==7)this.bitDepth="8m";else this.bitDepth=this.fmt.bitsPerSample.toString()};c.prototype.createWaveFile_=function(){var t=this.samplesToBytes_();var e=[].concat(o.pack(this.format,o.types.fourCC),this.getJunkBytes_(),this.getDs64Bytes_(),this.getBextBytes_(),this.getFmtBytes_(),this.getFactBytes_(),o.pack(this.data.chunkId,o.types.fourCC),o.pack(t.length,f),t,this.getCueBytes_(),this.getSmplBytes_(),this.getLISTBytes_());return new Uint8Array([].concat(o.pack(this.container,o.types.fourCC),o.pack(e.length,f),e))};t.exports=c},function(t,e){var i=new Float32Array(1);function s(t,e,i,s){c(e);c(i);s=s||t;var n=f(e,i);var r={oldMin:Math.pow(2,parseInt(e,10))/2,newMin:Math.pow(2,parseInt(i,10))/2,oldMax:Math.pow(2,parseInt(e,10))/2-1,newMax:Math.pow(2,parseInt(i,10))/2-1};var a=t.length;if(e=="8")for(var h=0;h<a;h++)s[h]=t[h]-=128;for(var o=0;o<a;o++)s[o]=n(t[o],r);if(i=="8")for(var u=0;u<a;u++)s[u]=s[u]+=128}function n(t,e){if(t>0)t=parseInt(t/e.oldMax*e.newMax,10);else t=parseInt(t/e.oldMin*e.newMin,10);return t}function r(t,e){return parseInt(t>0?t*e.newMax:t*e.newMin,10)}function a(t,e){return t>0?t/e.oldMax:t/e.oldMin}function h(t){i[0]=t;return i[0]}function f(t,e){var i=function(t){return t};if(t!=e)if(["32f","64"].includes(t))if(["32f","64"].includes(e))i=h;else i=r;else if(["32f","64"].includes(e))i=a;else i=n;return i}function c(t){if(t!="32f"&&t!="64"&&(parseInt(t,10)<"8"||parseInt(t,10)>"53"))throw new Error("Invalid bit depth.")}t.exports=s},function(t,e,i){var n=i(0);var s={bits:32};var r={bits:32,char:true};function a(t,e){e=e===undefined?false:e;s["be"]=t["chunkId"]=="RIFX";var i=n.pack(t["chunkId"],r).concat(n.pack(t["chunkSize"],s),n.pack(t["format"],r),o(t["subChunks"]));if(!e)i=new Uint8Array(i);return i}function h(t){t=[].slice.call(t);var e=c(t,0);s["be"]=e=="RIFX";return{chunkId:e,chunkSize:p(t,0),format:n.unpack(t.slice(8,12),r),subChunks:u(t)}}function o(t){var e=[];var i=0;while(i<t.length){if(t[i]["chunkId"]=="LIST")e=e.concat(a(t[i],true));else e=e.concat(n.pack(t[i]["chunkId"],r),n.pack(t[i]["chunkSize"],s),t[i]["chunkData"]);i++}return e}function u(t){var e=[];var i=12;while(i<=t.length-8){e.push(f(t,i));i+=8+e[e.length-1]["chunkSize"];i=i%2?i+1:i}return e}function f(t,e){var i={chunkId:c(t,e),chunkSize:p(t,e)};if(i["chunkId"]=="LIST"){i["format"]=n.unpack(t.slice(e+8,e+12),r);i["subChunks"]=u(t.slice(e))}else{var s=i["chunkSize"]%2?i["chunkSize"]+1:i["chunkSize"];i["chunkData"]=t.slice(e+8,e+8+s)}return i}function c(t,e){return n.unpack(t.slice(e,e+4),r)}function p(t,e){return n.unpack(t.slice(e+4,e+8),s)}t.exports.read=h;t.exports.write=a},function(t,e,i){var h=i(5);var s=i(6);var n=new Int8Array(8);var o=new Uint32Array(n.buffer);var u=new Float32Array(n.buffer);var r=new Float64Array(n.buffer);var a;var f;var c={};function p(t,e){if(e["be"])h(t,e["offset"]);var i=t.length;var s=[];i=i-(e["offset"]-1);for(var n=0;n<i;n+=e["offset"])s.push(a(t,n));return s}function d(t,e){var i=0;var s=[];var n=t.length;var r=D;if(e["char"])r=z;for(var a=0;a<n;a++){r(t[a],e);i=f(s,t[a],i)}if(e["be"])h(s,e["offset"]);return s}function l(t,e){return c.read(t,e)}function m(t,e){var i=c.read(t,e);var s=(i&31744)>>10;var n=i&1023;var r;if(s)r=Math.pow(2,s-15)*(1+n/1024);else r=6103515625e-14*(n/1024);return r*(i>>15?-1:1)}function k(t,e){o[0]=c.read(t,e);return u[0]}function v(t,e){o[0]=c.read(t,e);o[1]=c.read(t,e+4);return r[0]}function _(t,e){var i="";for(var s=0;s<c.offset;s++)i+=String.fromCharCode(t[e+s]);return i}function b(t,e,i){return c.write(t,e,i)}function S(t,e,i){u[0]=e;var s=o[0];var n=s>>16&32768;var r=s>>12&2047;var a=s>>23&255;if(a>=103){n|=a-112<<10|r>>1;n+=r&1}t[i++]=n&255;t[i++]=n>>>8&255;return i}function g(t,e,i){u[0]=e;return c.write(t,o[0],i)}function I(t,e,i){r[0]=e;i=c.write(t,o[0],i);return c.write(t,o[1],i)}function w(t,e,i){for(var s=0;s<e.length;s++)t[i++]=e.charCodeAt(s);return i}function y(t){if(t["float"])if(t["bits"]==16)a=m;else if(t["bits"]==32)a=k;else{if(t["bits"]==64)a=v}else if(t["char"])a=_;else a=l}function C(t){if(t["float"])if(t["bits"]==16)f=S;else if(t["bits"]==32)f=g;else{if(t["bits"]==64)f=I}else if(t["char"])f=w;else f=b}function x(t){L(t);t["offset"]=t["bits"]<8?1:Math.ceil(t["bits"]/8);y(t);C(t);if(!t["char"])c=new s(t["bits"]==64?32:t["bits"],t["float"]?false:t["signed"]);else c.offset=t["bits"]<8?1:Math.ceil(t["bits"]/8)}function L(t){if(!t)throw new Error("Undefined type.");if(t["float"])B(t);else if(t["char"])T(t);else P(t)}function B(t){if([16,32,64].indexOf(t["bits"])==-1)throw new Error("Not a supported float type.")}function T(t){if(t["bits"]<8||t["bits"]%2)throw new Error("Wrong offset for type char.")}function P(t){if(t["bits"]<1||t["bits"]>53)throw new Error("Not a supported type.")}function z(t,e){D(t);if(t.length>e["offset"])throw new Error("String is bigger than its type definition.");else if(t.length<e["offset"])throw new Error("String is smaller than its type definition.")}function D(t){if(t===null||t===undefined)throw new Error("Cannot pack null or undefined values.")}t.exports.setUp=x;t.exports.toBytes=d;t.exports.fromBytes=p},function(t,e){function i(t,e){var i=t.length;if(i%e)throw new Error("Not enough bytes.");var s=0;while(s<i){n(t,e,s);s+=e}}function n(t,e,i){var s=0;var n=e-1;var r=parseInt(e/2,10);while(s<r){var a=t[i+s];t[i+s]=t[i+n];t[i+n]=a;s++;n--}}t.exports=i},function(t,e){var i=function(t,e){this.bits=t;this.signed=e;this.offset=0;this.min=-Infinity;this.max=Infinity;this.realBits_=this.bits;this.lastByteMask_=255;this.build_()};i.prototype.read=function(t,e){e=e===undefined?0:e;var i=0;var s=this.offset-1;while(s>0){i=t[s+e]<<s*8|i;s--}i=(t[e]|i)>>>0;return this.overflow_(this.sign_(i))};i.prototype.write=function(t,e,i){i=i===undefined?0:i;e=this.overflow_(e);t[i++]=e&255;for(var s=2;s<=this.offset;s++)t[i++]=Math.floor(e/Math.pow(2,(s-1)*8))&255;return i};i.prototype.writeEsoteric_=function(t,e,i){i=i===undefined?0:i;e=this.overflow_(e);i=this.writeFirstByte_(t,e,i);for(var s=2;s<this.offset;s++)t[i++]=Math.floor(e/Math.pow(2,(s-1)*8))&255;if(this.bits>8)t[i++]=Math.floor(e/Math.pow(2,(this.offset-1)*8))&this.lastByteMask_;return i};i.prototype.readBits_=function(t,e){e=e===undefined?0:e;var i="";var s=0;while(s<this.offset){var n=t[e+s].toString(2);i=new Array(9-n.length).join("0")+n+i;s++}return this.overflow_(this.sign_(parseInt(i,2)))};i.prototype.build_=function(){this.setRealBits_();this.setLastByteMask_();this.setMinMax_();this.offset=this.bits<8?1:Math.ceil(this.realBits_/8);if(this.realBits_!=this.bits||this.bits<8||this.bits>32){this.write=this.writeEsoteric_;this.read=this.readBits_}};i.prototype.sign_=function(t){if(t>this.max)t-=this.max*2+2;return t};i.prototype.overflow_=function(t){if(t>this.max)throw new Error("Overflow.");else if(t<this.min)throw new Error("Underflow.");return t};i.prototype.setMinMax_=function(){var t=Math.pow(2,this.bits);if(this.signed){this.max=t/2-1;this.min=-t/2}else{this.max=t-1;this.min=0}};i.prototype.setRealBits_=function(){if(this.bits>8)this.realBits_=(this.bits-1|7)+1};i.prototype.setLastByteMask_=function(){var t=8-(this.realBits_-this.bits);this.lastByteMask_=Math.pow(2,t>0?t:8)-1};i.prototype.writeFirstByte_=function(t,e,i){if(this.bits<8)t[i++]=e<0?e+Math.pow(2,this.bits):e;else t[i++]=e&255;return i};t.exports=i},function(t,e){t.exports={chr:{bits:8,char:true},fourCC:{bits:32,char:true},bool:{bits:1},int2:{bits:2,signed:true},uInt2:{bits:2},int4:{bits:4,signed:true},uInt4:{bits:4},int8:{bits:8,signed:true},uInt8:{bits:8},int16:{bits:16,signed:true},uInt16:{bits:16},float16:{bits:16,float:true},int24:{bits:24,signed:true},uInt24:{bits:24},int32:{bits:32,signed:true},uInt32:{bits:32},float32:{bits:32,float:true},int40:{bits:40,signed:true},uInt40:{bits:40},int48:{bits:48,signed:true},uInt48:{bits:48},float64:{bits:64,float:true},int16BE:{bits:16,signed:true,be:true},uInt16BE:{bits:16,be:true},float16BE:{bits:16,float:true,be:true},int24BE:{bits:24,signed:true,be:true},uInt24BE:{bits:24,be:true},int32BE:{bits:32,signed:true,be:true},uInt32BE:{bits:32,be:true},float32BE:{bits:32,float:true,be:true},int40BE:{bits:40,signed:true,be:true},uInt40BE:{bits:40,be:true},int48BE:{bits:48,signed:true,be:true},uInt48BE:{bits:48,be:true},float64BE:{bits:64,float:true,be:true}}},function(t,e){var i=[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8];var a=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767];var r=0;var h=0;var s=7;var o=0;var u=0;var f=7;function n(t){var e=[];var i=[];for(var s=0;s<t.length;s++){i.push(t[s]);if(s%505==0&&s!=0||s==t.length-1){e=e.concat(p(i));i=[]}}return e}function c(t,e){e=e===undefined?256:e;var i=[];var s=[];for(var n=0;n<t.length;n++){if(n%e==0&&n!=0){i=i.concat(d(s));s=[]}s.push(t[n])}return i}function p(t){var e=b(t[0]);for(var i=3;i<t.length;i+=2){var s=m(t[i]);var n=m(t[i+1]);e.push(n<<4|s)}while(e.length<256)e.push(0);return e}function d(t){o=l(t[1]<<8|t[0]);u=t[2];f=a[u];var e=[o,l(t[3]<<8|t[2])];for(var i=4;i<t.length;i++){var s=t[i];var n=s>>4;var r=n<<4^s;e.push(v(r));e.push(v(n))}return e}function l(t){return t>32768?t-65536:t}function m(t){var e=t-r;var i=0;if(e>=0)i=0;else{i=8;e=-e}var s=a[h];var n=s>>3;if(e>s){i|=4;e-=s;n+=s}s>>=1;if(e>s){i|=2;e-=s;n+=s}s>>=1;if(e>s){i|=1;n+=s}k(i,n);return i}function k(t,e){if(t&8)r-=e;else r+=e;if(r<-32768)r=-32768;else if(r>32767)r=32767;h+=i[t&7];if(h<0)h=0;else if(h>88)h=88}function v(t){var e=0;if(t&4)e+=f;if(t&2)e+=f>>1;if(t&1)e+=f>>2;e+=f>>3;if(t&8)e=-e;o+=e;if(o>32767)o=32767;else if(o<-32767)o=-32767;_(t);return o}function _(t){u+=i[t];if(u<0)u=0;else if(u>88)u=88;f=a[u]}function b(t){m(t);var e=[];e.push(t&255);e.push(t>>8&255);e.push(h);e.push(0);return e}t.exports.encode=n;t.exports.decode=c;t.exports.encodeBlock=p;t.exports.decodeBlock=d},function(t,e,i){t.exports.alaw=i(10);t.exports.mulaw=i(11)},function(t,e){var r=[1,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];function s(t){var e;t=t==-32768?-32767:t;var i=~t>>8&128;if(!i)t=t*-1;if(t>32635)t=32635;if(t>=256){var s=r[t>>8&127];var n=t>>s+3&15;e=s<<4|n}else e=t>>4;return e^(i^85)}function n(t){var e=0;t^=85;if(t&128){t&=~(1<<7);e=-1}var i=((t&240)>>4)+4;var s=0;if(i!=4)s=1<<i|(t&15)<<i-4|1<<i-5;else s=t<<1|1;s=e===0?s:-s;return s*8*-1}function i(t){var e=[];for(var i=0;i<t.length;i++)e.push(s(t[i]));return e}function a(t){var e=[];for(var i=0;i<t.length;i++)e.push(n(t[i]));return e}t.exports.encodeSample=s;t.exports.decodeSample=n;t.exports.encode=i;t.exports.decode=a},function(t,e){var n=132;function s(t){var e=255;if(t<0){t=n-t;e=127}else t+=n;if(t>32767)t=32767;var i=h(t);var s=i<<4|t>>i+3&15;return s^e}function r(t){t=~t;var e=((t&15)<<3)+n;e<<=(t&112)>>4;return t&128?n-e:e-n}function i(t){var e=[];for(var i=0;i<t.length;i++)e.push(s(t[i]));return e}function a(t){var e=[];for(var i=0;i<t.length;i++)e.push(r(t[i]));return e}function h(t){var e=0;t>>=7;if(t&240){t>>=4;e+=4}if(t&12){t>>=2;e+=2}if(t&2)e+=1;return e}t.exports.encodeSample=s;t.exports.decodeSample=r;t.exports.encode=i;t.exports.decode=a},function(t,e){(function(){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var c=new Uint8Array(256);for(var t=0;t<r.length;t++)c[r.charCodeAt(t)]=t;e.encode=function(t){var e=new Uint8Array(t),i,s=e.length,n="";for(i=0;i<s;i+=3){n+=r[e[i]>>2];n+=r[(e[i]&3)<<4|e[i+1]>>4];n+=r[(e[i+1]&15)<<2|e[i+2]>>6];n+=r[e[i+2]&63]}if(s%3===2)n=n.substring(0,n.length-1)+"=";else if(s%3===1)n=n.substring(0,n.length-2)+"==";return n};e.decode=function(t){var e=t.length*.75,i=t.length,s,n=0,r,a,h,o;if(t[t.length-1]==="="){e--;if(t[t.length-2]==="=")e--}var u=new ArrayBuffer(e),f=new Uint8Array(u);for(s=0;s<i;s+=4){r=c[t.charCodeAt(s)];a=c[t.charCodeAt(s+1)];h=c[t.charCodeAt(s+2)];o=c[t.charCodeAt(s+3)];f[n++]=r<<2|a>>4;f[n++]=(a&15)<<4|h>>2;f[n++]=(h&3)<<6|o&63}return u}})()}])});