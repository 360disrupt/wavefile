/*
 wavefile
 Read & write wave files with 4, 8, 11, 12, 16, 20, 24, 32 & 64-bit data.
 Copyright (c) 2017-2018 Rafael da Silva Rocha.
 https://github.com/rochars/wavefile

*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,f){a!=Array.prototype&&a!=Object.prototype&&(a[e]=f.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,e,f,h){if(e){f=$jscomp.global;a=a.split(".");for(h=0;h<a.length-1;h++){var c=a[h];c in f||(f[c]={});f=f[c]}a=a[a.length-1];h=f[a];e=e(h);e!=h&&null!=e&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Object.is",function(a){return a?a:function(a,f){return a===f?0!==a||1/a===1/f:a!==a&&f!==f}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,f){var e=this;e instanceof String&&(e=String(e));var c=e.length;for(f=f||0;f<c;f++)if(e[f]==a||Object.is(e[f],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,e,f){if(null==a)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return a+""};
(function(a){function e(h){if(f[h])return f[h].exports;var c=f[h]={i:h,l:!1,exports:{}};a[h].call(c.exports,c,c.exports,e);c.l=!0;return c.exports}var f={};e.m=a;e.c=f;e.d=function(a,c,f){e.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:f})};e.n=function(a){var c=a&&a.__esModule?function(){return a["default"]}:function(){return a};e.d(c,"a",c);return c};e.o=function(a,c){return Object.prototype.hasOwnProperty.call(a,c)};e.p="";return e(e.s=1)})([function(a,e,f){function h(a,
d,c){l.assureType_(d,void 0===c?10:c);return a.constructor==String?l.toBytes_(a.slice(0,d.offset),d):l.toBytes_([a],d)}function c(a,d,c){l.assureType_(d,void 0===c?10:c);a=l.fromBytes_(a.slice(0,d.offset),d);return a=d["char"]?a.slice(0,d.offset):a[0]}var l=f(5);a.exports.pack=h;a.exports.unpack=c;a.exports.packArray=function(a,d,c){l.assureType_(d,void 0===c?10:c);return l.toBytes_(a,d)};a.exports.unpackArray=function(a,d,c){l.assureType_(d,void 0===c?10:c);return l.fromBytes_(a,d)};a.exports.unpackStruct=
function(a,d,e){e=void 0===e?10:e;if(a.length<l.getStructDefSize_(d))return[];for(var f=[],g=0,b=0;b<d.length;b++)f=f.concat(c(a.slice(g,g+d[b].offset),d[b],e)),g+=d[b].offset;return f};a.exports.packStruct=function(a,d,c){c=void 0===c?10:c;if(a.length<d.length)return[];for(var e=[],g=0;g<d.length;g++)e=e.concat(h(a[g],d[g],c));return e};a.exports.chr={bits:8,"char":!0};a.exports.fourCC={bits:32,"char":!0};a.exports.bool={bits:1};a.exports.int2={bits:2,signed:!0};a.exports.uInt2={bits:2};a.exports.int4=
{bits:4,signed:!0};a.exports.uInt4={bits:4};a.exports.int8={bits:8,signed:!0};a.exports.uInt8={bits:8};a.exports.int16={bits:16,signed:!0};a.exports.uInt16={bits:16};a.exports.float16={bits:16,"float":!0};a.exports.int24={bits:24,signed:!0};a.exports.uInt24={bits:24};a.exports.int32={bits:32,signed:!0};a.exports.uInt32={bits:32};a.exports.float32={bits:32,"float":!0};a.exports.int40={bits:40,signed:!0};a.exports.uInt40={bits:40};a.exports.int48={bits:48,signed:!0};a.exports.uInt48={bits:48};a.exports.float64=
{bits:64,"float":!0};a.exports.int16BE={bits:16,signed:!0,be:!0};a.exports.uInt16BE={bits:16,be:!0};a.exports.float16BE={bits:16,"float":!0,be:!0};a.exports.int24BE={bits:24,signed:!0,be:!0};a.exports.uInt24BE={bits:24,be:!0};a.exports.int32BE={bits:32,signed:!0,be:!0};a.exports.uInt32BE={bits:32,be:!0};a.exports.float32BE={bits:32,"float":!0,be:!0};a.exports.int40BE={bits:40,signed:!0,be:!0};a.exports.uInt40BE={bits:40,be:!0};a.exports.int48BE={bits:48,signed:!0,be:!0};a.exports.uInt48BE={bits:48,
be:!0};a.exports.float64BE={bits:64,"float":!0,be:!0}},function(a,e,f){a=f(2);window.WaveFile=a},function(a,e,f){var h=f(3),c=f(4),l=f(8),n=f(9),d=f(0),m=f(0).uInt8,k=f(0).uInt16,g=f(0).uInt32;e=function(b){this.container="";this.chunkSize=0;this.format="";this.fmt={chunkId:"",chunkSize:0,audioFormat:0,numChannels:0,sampleRate:0,byteRate:0,blockAlign:0,bitsPerSample:0,cbSize:0,validBitsPerSample:0,dwChannelMask:0,subformat:[]};this.fact={chunkId:"",chunkSize:0,dwSampleLength:0};this.cue={chunkId:"",
chunkSize:0,dwCuePoints:0,points:[]};this.bext={chunkId:"",chunkSize:0,description:"",originator:"",originatorReference:"",originationDate:"",originationTime:"",timeReference:[],version:0,UMID:"",loudnessValue:0,loudnessRange:0,maxTruePeakLevel:0,maxMomentaryLoudness:0,maxShortTermLoudness:0,reserved:"",codingHistory:""};this.ds64={chunkId:"",riffSizeHigh:0,riffSizeLow:0,dataSizeHigh:0,dataSizeLow:0,originationTime:0,sampleCountHigh:0,sampleCountLow:0,tableLength:0,table:[]};this.data={chunkId:"",
chunkSize:0,samples:[]};this.bitDepth="0";this.audioFormats_={4:17,8:1,"8a":6,"8m":7,16:1,24:1,32:1,"32f":3,40:65534,48:65534,64:3};this.head_=0;this.enforceFact_=!1;this.isInterleaved=!0;b&&this.fromBuffer(b)};e.prototype.fromScratch=function(b,d,a,c,g){g=void 0===g?{}:g;g.container||(g.container="RIFF");var e=((parseInt(a,10)-1|7)+1)/8;this.clearHeader_();this.bitDepth=a;this.container=g.container;this.chunkSize=36+c.length*e;this.format="WAVE";this.fmt.chunkId="fmt ";this.fmt.chunkSize=16;this.fmt.byteRate=
b*e*d;this.fmt.blockAlign=b*e;this.fmt.audioFormat=this.audioFormats_[a]?this.audioFormats_[a]:65534;this.fmt.numChannels=b;this.fmt.sampleRate=d;this.fmt.bitsPerSample=parseInt(a,10);this.data.chunkId="data";this.data.samples=c;0<c.length&&c[0].constructor===Array&&(this.isInterleaved=!1,this.interleave());this.data.chunkSize=c.length*e;"4"==a&&(this.chunkSize=44+c.length,this.fmt.chunkSize=20,this.fmt.byteRate=4055,this.fmt.blockAlign=256,this.fmt.bitsPerSample=4,this.fmt.cbSize=2,this.fmt.validBitsPerSample=
505,this.fact.chunkId="fact",this.fact.chunkSize=4,this.fact.dwSampleLength=2*c.length,this.data.chunkSize=c.length);if("8a"==a||"8m"==a)this.chunkSize=44+c.length,this.fmt.chunkSize=20,this.fmt.cbSize=2,this.fmt.validBitsPerSample=8,this.fact.chunkId="fact",this.fact.chunkSize=4,this.fact.dwSampleLength=c.length;65534==this.fmt.audioFormat&&(this.chunkSize=60+c.length*e,this.fmt.chunkSize=40,this.fmt.bitsPerSample=(parseInt(a,10)-1|7)+1,this.fmt.cbSize=22,this.fmt.validBitsPerSample=parseInt(a,10),
this.fmt.dwChannelMask=0,this.fmt.subformat=[1,1048576,2852126848,1905997824])};e.prototype.fromBuffer=function(b){this.readRIFFChunk_(b);var a="RIFX"==this.container;b=c.read(b,a);this.readFmtChunk_(b.subChunks);this.readFactChunk_(b.subChunks);this.readBextChunk_(b.subChunks);this.readCueChunk_(b.subChunks);this.readDataChunk_(b.subChunks,{be:a,single:!0});this.bitDepth=3==this.fmt.audioFormat&&32==this.fmt.bitsPerSample?"32f":6==this.fmt.audioFormat?"8a":7==this.fmt.audioFormat?"8m":this.fmt.bitsPerSample.toString()};
e.prototype.toBuffer=function(){this.checkWriteInput_();this.assureInterleaved_();return this.createWaveFile_()};e.prototype.toRIFF=function(){this.container="RIFF";this.LEorBE_()};e.prototype.toRIFX=function(){this.container="RIFX";this.LEorBE_()};e.prototype.toBitDepth=function(b,a){var d=b,c=this.bitDepth;void 0===a||a||(d=this.realBitDepth_(b),c=this.realBitDepth_(this.bitDepth));this.assureInterleaved_();h.toBitDepth(this.data.samples,c,d);this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,
b,this.data.samples,{container:this.container})};e.prototype.interleave=function(){if(!this.isInterleaved){for(var b=[],a=this.data.samples[0].length,d=0;d<a;d++)for(var c=0;c<this.data.samples.length;c++)b.push(this.data.samples[c][d]);this.data.samples=b;this.isInterleaved=!0}};e.prototype.deInterleave=function(){if(this.isInterleaved){var b=[],a;for(a=0;a<this.fmt.numChannels;a++)b[a]=[];a=0;for(var d;a<this.data.samples.length;){for(d=0;d<this.fmt.numChannels;d++)b[d].push(this.data.samples[a+
d]);a+=d}this.data.samples=b;this.isInterleaved=!1}};e.prototype.toIMAADPCM=function(){if(8E3!=this.fmt.sampleRate)throw Error("Only 8000 Hz files can be compressed as IMA-ADPCM.");if(1!=this.fmt.numChannels)throw Error("Only mono files can be compressed as IMA-ADPCM.");this.assure16Bit_();this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,"4",l.encode(this.data.samples),{container:this.container})};e.prototype.fromIMAADPCM=function(){this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,
"16",l.decode(this.data.samples,this.fmt.blockAlign),{container:this.container})};e.prototype.toALaw=function(){this.assure16Bit_();this.assureInterleaved_();this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,"8a",n.alaw.encode(this.data.samples),{container:this.container})};e.prototype.fromALaw=function(){this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,"16",n.alaw.decode(this.data.samples),{container:this.container})};e.prototype.toMuLaw=function(){this.assure16Bit_();this.assureInterleaved_();
this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,"8m",n.mulaw.encode(this.data.samples),{container:this.container})};e.prototype.fromMuLaw=function(){this.fromScratch(this.fmt.numChannels,this.fmt.sampleRate,"16",n.mulaw.decode(this.data.samples),{container:this.container})};e.prototype.realBitDepth_=function(b){"32f"!=b&&(b=((parseInt(b,10)-1|7)+1).toString());return b};e.prototype.checkWriteInput_=function(){this.validateBitDepth_();this.validateNumChannels_();this.validateSampleRate_()};
e.prototype.validateBitDepth_=function(){if(!this.audioFormats_[this.bitDepth]){if(8<parseInt(this.bitDepth,10)&&54>parseInt(this.bitDepth,10))return!0;throw Error("Invalid bit depth.");}return!0};e.prototype.validateNumChannels_=function(){var b=this.fmt.numChannels*this.fmt.bitsPerSample/8;if(1>this.fmt.numChannels||65535<b)throw Error("Invalid number of channels.");return!0};e.prototype.validateSampleRate_=function(){var b=this.fmt.bitsPerSample/8*this.fmt.numChannels*this.fmt.sampleRate;if(1>
this.fmt.sampleRate||4294967295<b)throw Error("Invalid sample rate.");return!0};e.prototype.clearHeader_=function(){this.fmt.cbSize=0;this.fmt.validBitsPerSample=0;this.fact.chunkId="";this.fact.chunkSize=0;this.fact.dwSampleLength=0};e.prototype.assure16Bit_=function(){this.assureUncompressed_();"16"!=this.bitDepth&&this.toBitDepth("16")};e.prototype.assureUncompressed_=function(){"8a"==this.bitDepth?this.fromALaw():"8m"==this.bitDepth?this.fromMuLaw():"4"==this.bitDepth&&this.fromIMAADPCM()};e.prototype.assureInterleaved_=
function(){this.isInterleaved||this.interleave()};e.prototype.LEorBE_=function(){var b="RIFX"==this.container;m.be=b;k.be=b;return g.be=b};e.prototype.findChunk_=function(b,a){for(var d=0;d<b.length;d++)if(b[d].chunkId==a)return b[d];return null};e.prototype.readRIFFChunk_=function(b){this.container=d.unpackArray(b.slice(0,4),d.chr);if("RIFF"!=this.container&&"RIFX"!=this.container)throw Error("Not a supported format.");this.LEorBE_();this.chunkSize=d.unpack(b.slice(4,8),g);this.format=d.unpackArray(b.slice(8,
12),d.chr);if("WAVE"!=this.format)throw Error("Could not find the 'WAVE' format identifier");};e.prototype.readFmtChunk_=function(b){if(b=this.findChunk_(b,"fmt "))this.fmt.chunkId="fmt ",this.fmt.chunkSize=b.chunkSize,this.fmt.audioFormat=d.unpack(b.chunkData.slice(0,2),k),this.fmt.numChannels=d.unpack(b.chunkData.slice(2,4),k),this.fmt.sampleRate=d.unpack(b.chunkData.slice(4,8),g),this.fmt.byteRate=d.unpack(b.chunkData.slice(8,12),g),this.fmt.blockAlign=d.unpack(b.chunkData.slice(12,14),k),this.fmt.bitsPerSample=
d.unpack(b.chunkData.slice(14,16),k),this.readFmtExtension_(b);else throw Error("Could not find the 'fmt ' chunk");};e.prototype.readFmtExtension_=function(b){b=b.chunkData;16<this.fmt.chunkSize&&(this.fmt.cbSize=d.unpack(b.slice(16,18),k),18<this.fmt.chunkSize&&(this.fmt.validBitsPerSample=d.unpack(b.slice(18,20),k),20<this.fmt.chunkSize&&(this.fmt.dwChannelMask=d.unpack(b.slice(20,24),g),this.fmt.subformat=[d.unpack(b.slice(24,28),g),d.unpack(b.slice(28,32),g),d.unpack(b.slice(32,36),g),d.unpack(b.slice(36,
40),g)])))};e.prototype.readFactChunk_=function(b){if(b=this.findChunk_(b,"fact"))this.fact.chunkId="fact",this.fact.chunkSize=b.chunkSize,this.fact.dwSampleLength=d.unpack(b.chunkData.slice(0,4),g);else if(this.enforceFact_)throw Error("Could not find the 'fact' chunk");};e.prototype.readCueChunk_=function(b){var a=this.findChunk_(b,"cue ");if(a)for(b=a.chunkData,this.cue.chunkId="cue ",this.cue.chunkSize=a.chunkSize,this.cue.dwCuePoints=d.unpack(b.slice(0,4),g),a=0;a<this.cue.dwCuePoints;a++){var c=
4+24*a;this.cue.points.push({dwName:d.unpack(b.slice(c,c+4),g),dwPosition:d.unpack(b.slice(c+4,c+8),g),fccChunk:d.unpack(b.slice(c+8,c+12),d.fourCC),dwChunkStart:d.unpack(b.slice(c+12,c+16),g),dwBlockStart:d.unpack(b.slice(c+16,c+20),g),dwSampleOffset:d.unpack(b.slice(c+20,c+24),g)})}};e.prototype.readDataChunk_=function(b,a){if(b=this.findChunk_(b,"data"))this.data.chunkId="data",this.data.chunkSize=b.chunkSize,this.samplesFromBytes_(b.chunkData,a);else throw Error("Could not find the 'data' chunk");
};e.prototype.readBextChunk_=function(b){if(b=this.findChunk_(b,"bext"))b=b.chunkData,this.head_=0,this.bext={chunkId:"bext",chunkSize:b.length,description:this.readString_(b,256),originator:this.readString_(b,32),originatorReference:this.readString_(b,32),originationDate:this.readString_(b,10),originationTime:this.readString_(b,8),timeReference:[this.readFromChunk_(b,g),this.readFromChunk_(b,g)],version:this.readFromChunk_(b,k),UMID:this.readString_(b,64),loudnessValue:this.readFromChunk_(b,k),loudnessRange:this.readFromChunk_(b,
k),maxTruePeakLevel:this.readFromChunk_(b,k),maxMomentaryLoudness:this.readFromChunk_(b,k),maxShortTermLoudness:this.readFromChunk_(b,k),reserved:this.readString_(b,180),codingHistory:this.readString_(b,b.length-602)}};e.prototype.readString_=function(b,a){for(var c="",g=0;g<a;g++)c+=d.unpack([b[this.head_]],d.chr),this.head_++;return c};e.prototype.readFromChunk_=function(b,a){var c=a.bits/8;b=d.unpack(b.slice(this.head_,this.head_+c),a);this.head_+=c;return b};e.prototype.writeString_=function(b,
a){b=d.packArray(b,d.chr);for(var c=b.length;c<a;c++)b.push(0);return b};e.prototype.samplesToBytes_=function(b){b.bits=4==this.fmt.bitsPerSample?8:this.fmt.bitsPerSample;b.signed=8==b.bits?!1:!0;b.float=3==this.fmt.audioFormat||64==this.fmt.bitsPerSample?!0:!1;b=d.packArray(this.data.samples,b);b.length%2&&b.push(0);return b};e.prototype.samplesFromBytes_=function(b,a){a.bits=4==this.fmt.bitsPerSample?8:this.fmt.bitsPerSample;a.signed=8==a.bits?!1:!0;a.float=3==this.fmt.audioFormat||64==this.fmt.bitsPerSample?
!0:!1;a.single=!1;this.data.samples=d.unpackArray(b,a)};e.prototype.getBextBytes_=function(){return this.bext.chunkId?[].concat(d.packArray(this.bext.chunkId,d.chr),d.pack(this.bext.chunkSize,g),this.writeString_(this.bext.description,256),this.writeString_(this.bext.originator,32),this.writeString_(this.bext.originatorReference,32),this.writeString_(this.bext.originationDate,10),this.writeString_(this.bext.originationTime,8),d.pack(this.bext.timeReference[0],g),d.pack(this.bext.timeReference[1],
g),d.pack(this.bext.version,k),this.writeString_(this.bext.UMID,64),d.pack(this.bext.loudnessValue,k),d.pack(this.bext.loudnessRange,k),d.pack(this.bext.maxTruePeakLevel,k),d.pack(this.bext.maxMomentaryLoudness,k),d.pack(this.bext.maxShortTermLoudness,k),this.writeString_(this.bext.reserved,180),this.writeString_(this.bext.codingHistory,this.bext.chunkSize-602)):[]};e.prototype.getCueBytes_=function(){return this.cue.chunkId?[].concat(d.packArray(this.cue.chunkId,d.chr),d.pack(this.cue.chunkSize,
g),d.pack(this.cue.dwCuePoints,g),this.getCuePointsBytes_()):[]};e.prototype.getCuePointsBytes_=function(){for(var b=[],a=0;a<this.cue.dwCuePoints;a++)b=b.concat(d.pack(this.cue.points[a].dwName,g),d.pack(this.cue.points[a].dwPosition,g),d.pack(this.cue.points[a].fccChunk,d.fourCC),d.pack(this.cue.points[a].dwChunkStart,g),d.pack(this.cue.points[a].dwBlockStart,g),d.pack(this.cue.points[a].dwSampleOffset,g));return b};e.prototype.getFactBytes_=function(){return this.fact.chunkId?[].concat(d.packArray(this.fact.chunkId,
d.chr),d.pack(this.fact.chunkSize,g),d.pack(this.fact.dwSampleLength,g)):[]};e.prototype.getFmtBytes_=function(){if(this.fmt.chunkId)return[].concat(d.packArray(this.fmt.chunkId,d.chr),d.pack(this.fmt.chunkSize,g),d.pack(this.fmt.audioFormat,k),d.pack(this.fmt.numChannels,k),d.pack(this.fmt.sampleRate,g),d.pack(this.fmt.byteRate,g),d.pack(this.fmt.blockAlign,k),d.pack(this.fmt.bitsPerSample,k),this.getFmtExtensionBytes_());throw Error("Could not find the 'fmt ' chunk");};e.prototype.getFmtExtensionBytes_=
function(){var b=[];16<this.fmt.chunkSize&&(b=b.concat(d.pack(this.fmt.cbSize,k)));18<this.fmt.chunkSize&&(b=b.concat(d.pack(this.fmt.validBitsPerSample,k)));20<this.fmt.chunkSize&&(b=b.concat(d.pack(this.fmt.dwChannelMask,g)));24<this.fmt.chunkSize&&(b=b.concat(d.pack(this.fmt.subformat[0],g),d.pack(this.fmt.subformat[1],g),d.pack(this.fmt.subformat[2],g),d.pack(this.fmt.subformat[3],g)));return b};e.prototype.createWaveFile_=function(){var b={be:this.LEorBE_()};return new Uint8Array([].concat(d.packArray(this.container,
d.chr),d.pack(this.chunkSize,g),d.packArray(this.format,d.chr),this.getBextBytes_(),this.getFmtBytes_(),this.getFactBytes_(),d.packArray(this.data.chunkId,d.chr),d.pack(this.data.chunkSize,g),this.samplesToBytes_(b),this.getCueBytes_()))};a.exports=e},function(a,e){function f(a,b,e){if(b!=e){m(b);m(e);var g=["32f","64"].includes(b)?["32f","64"].includes(e)?d:l:["32f","64"].includes(e)?n:c;var f={oldMin:Math.pow(2,parseInt(b,10))/2,newMin:Math.pow(2,parseInt(e,10))/2,oldMax:Math.pow(2,parseInt(b,10))/
2-1,newMax:Math.pow(2,parseInt(e,10))/2-1};h(a,b,!1);for(b=0;b<a.length;b++)a[b]=g(a[b],f);h(a,e,!0)}}function h(a,b,d){if("8"==b)if(d)for(b=0;b<a.length;b++)a[b]+=128;else for(b=0;b<a.length;b++)a[b]-=128}function c(a,b){return a=0<a?parseInt(a/b.oldMax*b.newMax,10):parseInt(a/b.oldMin*b.newMin,10)}function l(a,b){return parseInt(0<a?a*b.newMax:a*b.newMin,10)}function n(a,b){return 0<a?a/b.oldMax:a/b.oldMin}function d(a){k[0]=a;return a=k[0]}function m(a){if("32f"!=a&&"64"!=a&&("8">parseInt(a,10)||
"53"<parseInt(a,10)))throw Error("Invalid bit depth.");return!0}var k=new Float32Array(1);a.exports=f;a.exports.toBitDepth=f},function(a,e,f){function h(a){m.be="RIFX"===a.chunkId;var e=d.packArray(a.chunkId,d.chr).concat(d.pack(a.chunkSize,m),d.packArray(a.format,d.chr),c(a.subChunks));if("RIFF"===a.chunkId||"RIFX"===a.chunkId)e=new Uint8Array(e);return e}function c(a){for(var c=[],b=0;b<a.length;)c="LIST"===a[b].chunkId?c.concat(h(a[b])):c.concat(d.packArray(a[b].chunkId,d.chr),d.pack(a[b].chunkSize,
m),a[b].chunkData),b++;return c}function l(a){for(var d=[],b=12;b<a.length;)d.push(n(a,b)),b+=8+d[d.length-1].chunkSize;return d}function n(a,c){var b={chunkId:d.unpackArray(a.slice(c,c+4),d.chr),chunkSize:d.unpack(a.slice(c+4,c+8),m)};"LIST"===b.chunkId?(b.format=d.unpackArray(a.slice(8,12),d.chr),b.subChunks=l(a.slice(c,c+b.chunkSize))):b.chunkData=a.slice(c+8,c+8+b.chunkSize);return b}var d=f(0),m=d.uInt32;a.exports.read=function(a){a=[].slice.call(a);var c=d.unpackArray(a.slice(0,4),d.chr);m.be=
"RIFX"===c;return{chunkId:c,chunkSize:d.unpack(a.slice(4,8),m),format:d.unpackArray(a.slice(8,12),d.chr),subChunks:l(a)}};a.exports.write=h},function(a,e,f){function h(a,b){return p.read(a,b)}function c(a,b){a=p.read(a,b);b=(a&31744)>>10;var c=a&1023;return(b?Math.pow(2,b-15)*(1+c/1024):c/1024*.00006103515625)*(a>>15?-1:1)}function l(a,b){x[0]=p.read(a,b);return y[0]}function n(a,b){w[0]=p.read(a,b);w[1]=p.read(a,b+4);return z[0]}function d(a,b){for(var c="",d=0;d<p.offset;d++)c+=String.fromCharCode(a[b+
d]);return c}function m(a,b,c){return p.write(a,b,c)}function k(a,b,c){y[0]=b;var d=x[0];b=d>>16&32768;var e=d>>12&2047;d=d>>23&255;103<=d&&(b=(b|d-112<<10|e>>1)+(e&1));a[c++]=b&255;a[c++]=b>>>8&255;return c}function g(a,b,c){y[0]=b;return c=p.write(a,x[0],c)}function b(a,b,c){z[0]=b;c=p.write(a,w[0],c);return p.write(a,w[1],c)}function q(a,b,c){a[c++]=b.charCodeAt(0);return c}var r=f(6),v=f(7);e=new Int8Array(4);var x=new Int32Array(e.buffer,0,1),y=new Float32Array(e.buffer,0,1);e=new Int8Array(8);
var z=new Float64Array(e.buffer),w=new Uint32Array(e.buffer),t,u,p;a.exports.toBytes_=function(a,b){for(var c=0,d=[],e=0;e<a.length;e++)c=u(d,a[e],c);a=d;b.be&&r(a,b.offset);if(10!=b.base){c=b.base;for(d=0;d<a.length;d++)a[d]=a[d].toString(c);c=a;b=(2==b.base?8:2)+1;for(d=0;d<c.length;d++)c[d]=Array(b-c[d].length).join("0")+c[d]}return a};a.exports.fromBytes_=function(a,b){b.be&&r(a,b.offset);if(10!=b.base)for(var c=b.base,d=0;d<a.length;d++)a[d]=parseInt(a[d],c);c=[];d=0;for(var e=a.length-(b.offset-
1);d<e;)c.push(t(a,d)),d+=b.offset;b["char"]&&(c=c.join(""));return c};a.exports.getStructDefSize_=function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c].offset;return b};a.exports.assureType_=function(a,e){a.offset=8>a.bits?1:Math.ceil(a.bits/8);a.base=e;a["float"]?16==a.bits?t=c:32==a.bits?t=l:64==a.bits&&(t=n):t=a["char"]?d:h;a["float"]?16==a.bits?u=k:32==a.bits?u=g:64==a.bits&&(u=b):u=a["char"]?q:m;p=a["float"]?64==a.bits?new v(32,!1):32==a.bits?new v(32,!0):new v(16,!1):new v(a.bits,a.signed)}},
function(a,e){a.exports=function(a,e){for(var c=a.length,f=0;f<c;){for(var h=a,d=f,m=0,k=e-1,g=parseInt(e/2,10);m<g;){var b=h[d+m];h[d+m]=h[d+k];h[d+k]=b;m++;k--}f+=e}}},function(a,e){e=function(a,e){this.bits=a;this.signed=void 0===e?!1:e;this.reader=this.read;this.writer=this.write;this.offset=0;this.min=-Infinity;this.max=Infinity;this.realBits_=this.bits;this.lastByteMask_=255;this.build_()};e.prototype.read=function(a,e){e=void 0===e?0:e;if(32<this.bits)return this.readBits_(a,e);for(var c=0,
f=this.offset-1;0<f;)c|=a[f+e]<<8*f,f--;c=(a[e]|c)>>>0;return this.overflow_(this.sign_(c))};e.prototype.write=function(a,e,c){c=void 0===c?0:c;e=this.overflow_(e);var f=255;c=this.writeFirstByte_(a,e,c);for(var h=2;h<=this.offset;h++)h==this.offset&&(f=this.lastByteMask_),a[c++]=Math.floor(e/Math.pow(2,8*(h-1)))&f;return c};e.prototype.readBits_=function(a,e){e=void 0===e?0:e;for(var c="",f=0;f<this.offset;){var h=a[e+f].toString(2);c=Array(9-h.length).join("0")+h+c;f++}return this.overflow_(this.sign_(parseInt(c,
2)))};e.prototype.build_=function(){this.validateWordSize_();this.setRealBits_();this.setLastByteMask_();this.setMinMax_();this.offset=8>this.bits?1:Math.ceil(this.realBits_/8)};e.prototype.sign_=function(a){a>this.max&&(a-=2*this.max+2);return a};e.prototype.overflow_=function(a){a>this.max?a=this.max:a<this.min&&(a=this.min);return a};e.prototype.setMinMax_=function(){var a=Math.pow(2,this.bits);this.signed?(this.max=a/2-1,this.min=-a/2):(this.max=a-1,this.min=0)};e.prototype.validateWordSize_=
function(){if(1>this.bits||64<this.bits)throw Error("Not a supported type.");};e.prototype.setRealBits_=function(){8<this.bits&&(this.realBits_=(this.bits-1|7)+1)};e.prototype.setLastByteMask_=function(){var a=8-(this.realBits_-this.bits);this.lastByteMask_=Math.pow(2,0<a?a:8)-1};e.prototype.writeFirstByte_=function(a,e,c){8>this.bits?a[c++]=0>e?e+Math.pow(2,this.bits):e:a[c++]=e&255;return c};a.exports=e},function(a,e){function f(a){return 32768<a?a-65536:a}function h(a){var b=a-k;0<=b?a=0:(a=8,
b=-b);var c=m[g],e=c>>3;b>c&&(a|=4,b-=c,e+=c);c>>=1;b>c&&(a|=2,b-=c,e+=c);c>>=1;b>c&&(a|=1,e+=c);b=a;k=b&8?k-e:k+e;-32768>k?k=-32768:32767<k&&(k=32767);g+=d[b&7];0>g?g=0:88<g&&(g=88);return a}function c(a){var c=0;a&4&&(c+=r);a&2&&(c+=r>>1);a&1&&(c+=r>>2);c+=r>>3;a&8&&(c=-c);b+=c;32767<b?b=32767:-32767>b&&(b=-32767);q+=d[a];0>q?q=0:88<q&&(q=88);r=m[q];return b}function l(a){var b=a[0];h(b);var c=[];c.push(b&255);c.push(b>>8&255);c.push(g);c.push(0);for(b=3;b<a.length;b+=2){var d=h(a[b]),e=h(a[b+1]);
c.push(e<<4|d)}for(;256>c.length;)c.push(0);return c}function n(a){b=f(a[1]<<8|a[0]);q=a[2];r=m[q];for(var d=[b,f(a[3]<<8|a[2])],e=4;e<a.length;e++){var g=a[e],h=g>>4;d.push(c(h<<4^g));d.push(c(h))}return d}var d=[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8],m=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,
4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767],k=0,g=0,b=0,q=0,r=7;a.exports.encode=function(a){for(var b=[],c=[],d=0;d<a.length;d++)if(c.push(a[d]),0==d%505&&0!=d||d==a.length-1)b=b.concat(l(c)),c=[];return b};a.exports.decode=function(a,b){b=void 0===b?256:b;for(var c=[],d=[],e=0;e<a.length;e++)0==e%b&&0!=e&&(c=c.concat(n(d)),d=[]),d.push(a[e]);return c};a.exports.encodeBlock=l;a.exports.decodeBlock=n},function(a,
e,f){a.exports.alaw=f(10);a.exports.mulaw=f(11)},function(a,e){function f(a){var c=[1,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],e;a=-32768==a?-32767:a;(e=~a>>8&128)||(a*=-1);32635<a&&(a=32635);256<=a?(c=c[a>>8&127],a=c<<4|a>>c+3&15):a>>=4;return a^e^85}function h(a){var c=0;a^=85;a&128&&
(a&=-129,c=-1);var e=((a&240)>>4)+4;a=4!=e?1<<e|(a&15)<<e-4|1<<e-5:a<<1|1;return-8*(0===c?a:-a)}a.exports.encodeSample=f;a.exports.decodeSample=h;a.exports.encode=function(a){for(var c=[],e=0;e<a.length;e++)c.push(f(a[e]));return c};a.exports.decode=function(a){for(var c=[],e=0;e<a.length;e++)c.push(h(a[e]));return c}},function(a,e){function f(a){if(0>a){a=132-a;var c=127}else a+=132,c=255;32767<a&&(a=32767);var e=0;var d=a>>7;d&240&&(d>>=4,e+=4);d&12&&(d>>=2,e+=2);d&2&&(e+=1);d=e;return(d<<4|a>>
d+3&15)^c}function h(a){a=~a;var c=((a&15)<<3)+132<<((a&112)>>4);return a&128?132-c:c-132}a.exports.encodeSample=f;a.exports.decodeSample=h;a.exports.encode=function(a){for(var c=[],e=0;e<a.length;e++)c.push(f(a[e]));return c};a.exports.decode=function(a){for(var c=[],e=0;e<a.length;e++)c.push(h(a[e]));return c}}]);