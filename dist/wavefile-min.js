/*
 wavefile
 Read & write wave files with 8, 16, 24, 32 & 64-bit data.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/wavefile

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

 bitdepth
 Change the bit depth of samples to and from 8, 16, 24, 32 & 64-bit.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/bitdepth

 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 riff-chunks
 Read and write the chunks of RIFF and RIFX files.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/riff-chunks

*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var k=function(){};k.prototype=a;return new k};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},k={};try{return k.__proto__=a,k.a}catch(h){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,k){a.__proto__=k;if(a.__proto__!==k)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,k){a.prototype=$jscomp.objectCreate(k.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var h=$jscomp.setPrototypeOf;h(a,k)}else for(h in k)if("prototype"!=h)if(Object.defineProperties){var g=Object.getOwnPropertyDescriptor(k,h);g&&Object.defineProperty(a,h,g)}else a[h]=k[h];a.superClass_=k.prototype};
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,k,h){a!=Array.prototype&&a!=Object.prototype&&(a[k]=h.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,k,h,g){if(k){h=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var l=a[g];l in h||(h[l]={});h=h[l]}a=a[a.length-1];g=h[a];k=k(g);k!=g&&null!=k&&$jscomp.defineProperty(h,a,{configurable:!0,writable:!0,value:k})}};$jscomp.polyfill("Object.is",function(a){return a?a:function(a,h){return a===h?0!==a||1/a===1/h:a!==a&&h!==h}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,h){var g=this;g instanceof String&&(g=String(g));var l=g.length;for(h=h||0;h<l;h++)if(g[h]==a||Object.is(g[h],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,k,h){if(null==a)throw new TypeError("The 'this' value for String.prototype."+h+" must not be null or undefined");if(k instanceof RegExp)throw new TypeError("First argument to String.prototype."+h+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,h){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,h||0)}},"es6","es3");
$jscomp.owns=function(a,k){return Object.prototype.hasOwnProperty.call(a,k)};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,h){for(var g=1;g<arguments.length;g++){var l=arguments[g];if(l)for(var f in l)$jscomp.owns(l,f)&&(a[f]=l[f])}return a}},"es6","es3");
(function(a){function k(g){if(h[g])return h[g].exports;var l=h[g]={i:g,l:!1,exports:{}};a[g].call(l.exports,l,l.exports,k);l.l=!0;return l.exports}var h={};k.m=a;k.c=h;k.d=function(a,l,f){k.o(a,l)||Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:f})};k.n=function(a){var l=a&&a.__esModule?function(){return a["default"]}:function(){return a};k.d(l,"a",l);return l};k.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)};k.p="";return k(k.s=9)})([function(a,k,h){function g(b,
a,c){b[c]=l(b[c],a)}function l(a,c){var e=a.length+1;2==c?e=8:16==c&&(e=2);return b(a,e)}function f(b,a,c){2==a&&4>b[c].length&&(b[c]=Array(5-b[c].length).join("0")+b[c])}function d(b,a,c){(2==a||16==a)&&2>b[c].length&&(b[c]="0"+b[c])}function b(b,a){for(;b.length<a;)b="0"+b;return b}function e(b,a,c){c=void 0===c?g:c;if(10!=a)for(var e=0,d=b.length;e<d;)b[e]=b[e].toString(a),c(b,a,e),e++}var c=h(7),m=h(2);a.exports.makeBigEndian=function(b,a,e){a&&c(b,m.BitDepthOffsets[e])};a.exports.bytesToBase=
e;a.exports.outputToBase=function(b,a,c){4==a?e(b,c,f):2==a?e(b,c,d):1==a?e(b,c,function(){}):e(b,c)};a.exports.turnToArray=function(b){Array.isArray(b)||"string"==typeof b||(b=[b]);return b};a.exports.signed=function(b,a){b>parseInt(a/2,10)-1&&(b-=a);return b};a.exports.bytesToInt=function(b,a){if(10!=a)for(var c=0,e=b.length;c<e;)b[c]=parseInt(b[c],a),c++};a.exports.fixByteArraySize=function(b,a){var c=0,e=b.length%a;if(e)for(e=-1*(e-a);c<e;)b.push(0),c++};a.exports.padding=g;a.exports.paddingNibble=
f;a.exports.paddingCrumb=d;a.exports.bytePadding=l;a.exports.lPadZeros=b},function(a,k,h){function g(b,a,c){b[c]=l(b[c],a)}function l(a,c){var e=a.length+1;2==c?e=8:16==c&&(e=2);return b(a,e)}function f(b,a,c){2==a&&4>b[c].length&&(b[c]=Array(5-b[c].length).join("0")+b[c])}function d(b,a,c){(2==a||16==a)&&2>b[c].length&&(b[c]="0"+b[c])}function b(b,a){for(;b.length<a;)b="0"+b;return b}function e(b,a,c){c=void 0===c?g:c;if(10!=a)for(var e=0,d=b.length;e<d;)b[e]=b[e].toString(a),c(b,a,e),e++}var c=
h(7),m=h(4);a.exports.makeBigEndian=function(b,a,e){a&&c(b,m.BitDepthOffsets[e])};a.exports.bytesToBase=e;a.exports.outputToBase=function(b,a,c){4==a?e(b,c,f):2==a?e(b,c,d):1==a?e(b,c,function(){}):e(b,c)};a.exports.turnToArray=function(b){Array.isArray(b)||"string"==typeof b||(b=[b]);return b};a.exports.signed=function(b,a){b>parseInt(a/2,10)-1&&(b-=a);return b};a.exports.bytesToInt=function(b,a){if(10!=a)for(var c=0,e=b.length;c<e;)b[c]=parseInt(b[c],a),c++};a.exports.fixByteArraySize=function(b,
a){var c=0,e=b.length%a;if(e)for(e=-1*(e-a);c<e;)b.push(0),c++};a.exports.padding=g;a.exports.paddingNibble=f;a.exports.paddingCrumb=d;a.exports.bytePadding=l;a.exports.lPadZeros=b},function(a,k){a.exports.BitDepthOffsets={1:1,2:1,4:1,8:1,16:2,24:3,32:4,40:5,48:6,64:8};a.exports.BitDepthMaxValues={1:2,2:4,4:16,8:256,16:65536,24:16777216,32:4294967296,40:1099511627776,48:281474976710656,64:Infinity}},function(a,k){function h(a){g[0]=a;return l[0]}k=new Int8Array(4);var g=new Int32Array(k.buffer,0,
1),l=new Float32Array(k.buffer,0,1);a.exports=h;a.exports.pack=h;a.exports.unpack=function(a){l[0]=a;return g[0]}},function(a,k){a.exports.BitDepthOffsets={1:1,2:1,4:1,8:1,16:2,24:3,32:4,40:5,48:6,64:8};a.exports.BitDepthMaxValues={1:2,2:4,4:16,8:256,16:65536,24:16777216,32:4294967296,40:1099511627776,48:281474976710656,64:Infinity}},function(a,k){a.exports={format:"Not a supported format.",wave:"Could not find the 'WAVE' format identifier","fmt ":"Could not find the 'fmt ' chunk",data:"Could not find the 'data' chunk",
fact:"Could not find the 'fact' chunk",bitDepth:"Invalid bit depth.",numChannels:"Invalid number of channels.",sampleRate:"Invalid sample rate."}},function(a,k,h){function g(b,a){a=void 0===a?!1:a;for(var c="",e=0,d=b.length;e<d;){var f=l.lPadZeros(b[e].toString(2),8);c=a?c+f:f+c;e++}return c}var l=h(0),f=new Float32Array(1),d=new Int32Array(f.buffer);a.exports.getBinary=g;a.exports.decodeFloat16=function(b){b=parseInt(g(b,!0),2);var a=(b&31744)>>10,c=b&1023;return(a?Math.pow(2,a-15)*(1+c/1024):c/
1024*.00006103515625)*(b>>15?-1:1)};a.exports.decodeFloat64=function(b){if("0,0,0,0,0,0,0,0"==b.toString())return 0;b=g(b);for(var a="1"+b.substr(12,52),c=1,d=0,f=0;f<a.length;)d+=c*parseInt(a.charAt(f),10),c/=2,f++;return("1"==b.charAt(0)?-1:1)*d*Math.pow(2,parseInt(b.substr(1,11),2)-1023)};a.exports.toFloat64=function(b){if(0==b)return[0,0];var a=0;0>=b&&(a=2147483648,b=-b);var c=Math.floor(Math.log(b)/Math.log(2)),d=Math.floor(b/Math.pow(2,c)*Math.pow(2,52));b=d&4294967295;d/=Math.pow(2,32);return[a|
c+1023<<20|d&1048575,b]};a.exports.toHalf=function(b){f[0]=b;var a=d[0];b=a>>16&32768;var c=a>>12&2047;a=a>>23&255;return 103>a?b:(b|a-112<<10|c>>1)+(c&1)}},function(a,k){a.exports=function(a,g){for(var l=a.length,f=0;f<l;){for(var d=a,b=f,e=0,c=g-1,m=parseInt(g/2,10);e<m;){var h=d[b+e];d[b+e]=d[b+c];d[b+c]=h;e++;c--}f+=g}}},function(a,k,h){function g(b,a){a=void 0===a?!1:a;for(var c="",e=0,d=b.length;e<d;){var f=l.lPadZeros(b[e].toString(2),8);c=a?c+f:f+c;e++}return c}var l=h(1),f=new Float32Array(1),
d=new Int32Array(f.buffer);a.exports.getBinary=g;a.exports.decodeFloat16=function(b){b=parseInt(g(b,!0),2);var a=(b&31744)>>10,c=b&1023;return(a?Math.pow(2,a-15)*(1+c/1024):c/1024*.00006103515625)*(b>>15?-1:1)};a.exports.decodeFloat64=function(b){if("0,0,0,0,0,0,0,0"==b.toString())return 0;b=g(b);for(var a="1"+b.substr(12,52),c=1,d=0,f=0;f<a.length;)d+=c*parseInt(a.charAt(f),10),c/=2,f++;return("1"==b.charAt(0)?-1:1)*d*Math.pow(2,parseInt(b.substr(1,11),2)-1023)};a.exports.toFloat64=function(b){if(0==
b)return[0,0];var a=0;0>=b&&(a=2147483648,b=-b);var c=Math.floor(Math.log(b)/Math.log(2)),d=Math.floor(b/Math.pow(2,c)*Math.pow(2,52));b=d&4294967295;d/=Math.pow(2,32);return[a|c+1023<<20|d&1048575,b]};a.exports.toHalf=function(b){f[0]=b;var a=d[0];b=a>>16&32768;var c=a>>12&2047;a=a>>23&255;return 103>a?b:(b|a-112<<10|c>>1)+(c&1)}},function(a,k,h){var g=h(10),l=h(5),f=h(11),d=h(19);a=function(a){var b=f.call(this)||this;a&&b.fromBuffer(a);return b};$jscomp.inherits(a,f);a.read64BitFloat=f.read64BitFloat;
a.read48Bit=f.read48Bit;a.read40Bit=f.read40Bit;a.read32BitFloat=f.read32BitFloat;a.read32Bit=f.read32Bit;a.read24Bit=f.read24Bit;a.read16BitFloat=f.read16BitFloat;a.read16Bit=f.read16Bit;a.read8Bit=f.read8Bit;a.read1Bit=f.read1Bit;a.readChar=f.readChar;a.writeString=f.writeString;a.write1Bit=f.write1Bit;a.write2Bit=f.write2Bit;a.write4Bit=f.write4Bit;a.write8Bit=f.write8Bit;a.write16BitFloat=f.write16BitFloat;a.write16Bit=f.write16Bit;a.write24Bit=f.write24Bit;a.write32Bit=f.write32Bit;a.write32BitFloat=
f.write32BitFloat;a.write40Bit=f.write40Bit;a.write48Bit=f.write48Bit;a.write64BitFloat=f.write64BitFloat;a.BitDepthMaxValues=f.BitDepthMaxValues;a.BitDepthOffsets=f.BitDepthOffsets;a.unpackNibbles=f.unpackNibbles;a.packNibbles=f.packNibbles;a.unpackCrumbs=f.unpackCrumbs;a.packCrumbs=f.packCrumbs;a.unpackBooleans=f.unpackBooleans;a.packBooleans=f.packBooleans;a.fromBytes=f.fromBytes;a.toBytes=f.toBytes;a.findString=f.findString;a.float64=f.float64;a.uInt48=f.uInt48;a.int48=f.int48;a.uInt40=f.uInt40;
a.int40=f.int40;a.float32=f.float32;a.uInt32=f.uInt32;a.int32=f.int32;a.uInt24=f.uInt24;a.int24=f.int24;a.float16=f.float16;a.uInt16=f.uInt16;a.int16=f.int16;a.uInt8=f.uInt8;a.int8=f.int8;a.uInt4=f.uInt4;a.int4=f.int4;a.uInt2=f.uInt2;a.int2=f.int2;a.bool=f.bool;a.chr=f.chr;a.unpackArray=f.unpackArray;a.packArray=f.packArray;a.unpack=f.unpack;a.pack=f.pack;a.prototype.fromScratch=function(a,d,c,f,l){l=void 0===l?{}:l;l.container||(l.container="RIFF");var b=parseInt(c,10)/8;this.chunkSize=36+f.length*
b;this.fmtChunkSize=16;this.byteRate=a*b*d;this.blockAlign=a*b;this.chunkId=l.container;this.format="WAVE";this.fmtChunkId="fmt ";this.audioFormat=this.headerFormats_[c];this.numChannels=a;this.sampleRate=d;this.bitsPerSample=parseInt(c,10);this.dataChunkId="data";this.dataChunkSize=f.length*b;this.samples_=f;this.bitDepth_=c};a.prototype.fromBuffer=function(a){this.readRIFFChunk_(a);var b="RIFX"==this.chunkId;a=d.read(a,b);this.readFmtChunk_(a.subChunks);this.readFactChunk_(a.subChunks);this.readBextChunk_(a.subChunks);
this.readCueChunk_(a.subChunks);this.readDataChunk_(a.subChunks,{be:b,single:!0});this.bitDepth_=3==this.audioFormat&&32==this.bitsPerSample?"32f":this.bitsPerSample.toString()};a.prototype.toBuffer=function(){this.checkWriteInput_();return new Uint8Array(this.createWaveFile_())};a.prototype.toRIFF=function(){this.chunkId="RIFF";this.LEorBE()};a.prototype.toRIFX=function(){this.chunkId="RIFX";this.LEorBE()};a.prototype.toBitDepth=function(a){g.toBitDepth(this.samples_,this.bitDepth_,a);this.fromScratch(this.numChannels,
this.sampleRate,a,this.samples_,{container:this.chunkId})};a.prototype.interleave=function(){var a=[],d,c,f=this.samples_[0].length;for(d=0;d<f;d++)for(c=0;c<this.samples_.length;c++)a.push(this.samples_[c][d]);this.samples_=a};a.prototype.deInterleave=function(){var a=[],d;for(d=0;d<this.numChannels;d++)a[d]=[];d=0;for(var c;d<this.samples_.length;){for(c=0;c<this.numChannels;c++)a[c].push(this.samples_[d+c]);d+=c}this.samples_=a};a.prototype.checkWriteInput_=function(){this.validateBitDepth_();
this.validateNumChannels_();this.validateSampleRate_()};a.prototype.validateBitDepth_=function(){if(!this.headerFormats_[this.bitDepth_])throw Error(l.bitDepth);return!0};a.prototype.validateNumChannels_=function(){var a=this.numChannels*this.bitsPerSample/8;if(1>this.numChannels||65535<a)throw Error(l.numChannels);return!0};a.prototype.validateSampleRate_=function(){var a=this.bitsPerSample/8*this.numChannels*this.sampleRate;if(1>this.sampleRate||4294967295<a)throw Error(l.sampleRate);return!0};
window.WaveFile=a},function(a,k){var h=new Float32Array(1),g={8:256,16:65536,24:16777216,32:4294967296,"32f":1,64:1},l={intToInt:function(a,d){return a=0<a?parseInt(a/d.oldPositive*d.newPositive,10):parseInt(a/d.oldNegative*d.newNegative,10)},floatToInt:function(a,d){return 0<a?a*d.newPositive:a*d.newNegative},intToFloat:function(a,d){return 0<a?a/d.oldPositive:a/d.oldNegative},floatToFloat:function(a,d){"64"==d.original&&"32f"==d.target&&(h[0]=a,a=h[0]);return a}};a.exports.toBitDepth=function(a,
d,b){var e="8 16 24 32 32f 64".split(" ");if(-1==e.indexOf(d)||-1==e.indexOf(b))throw Error("Invalid bit depth.");e=["32f","64"].includes(d)?"float":"int";var c=["32f","64"].includes(b)?"Float":"Int";e=l[e+"To"+c];c=a.length;for(var f=0;f<c;f++){var h=f,k=a[f];"8"==d&&(k-=128);a[h]=k;a[f]=e(a[f],{oldNegative:g[d]/2,newNegative:g[b]/2,oldPositive:g[d]/2-1,newPositive:g[b]/2-1,original:d,target:b});h=f;k=a[f];"8"==b&&(k+=128);a[h]=k}};a.exports.BitDepthMaxValues=g},function(a,k,h){var g=h(12),l=h(5),
f=g.uInt8,d=g.uInt16,b=g.uInt32,e=g.chr,c=h(18);k=function(){var a=c.call(this)||this;a.headerFormats_={4:17,8:1,16:1,24:1,32:1,"32f":3,64:3};a.samples_=[];return a};$jscomp.inherits(k,c);k.read64Bit=c.read64Bit;k.write=c.write;k.read=c.read;k.prototype.readRIFFChunk_=function(a){this.chunkId=g.unpackArray(a.slice(0,4),e);if("RIFF"!=this.chunkId&&"RIFX"!=this.chunkId)throw Error(l.format);var b=this.LEorBE();this.chunkSize=g.fromBytes(a.slice(4,8),32,{be:b,single:!0});this.format=g.unpackArray(a.slice(8,
12),e);if("WAVE"!=this.format)throw Error(l.wave);};k.prototype.LEorBE=function(){var a="RIFX"==this.chunkId;f.be=a;d.be=a;return b.be=a};k.prototype.readFmtChunk_=function(a){if(a=this.findChunk(a,"fmt "))this.fmtChunkId="fmt ",this.fmtChunkSize=a.chunkSize,this.audioFormat=g.unpack(a.chunkData.slice(0,2),d),this.numChannels=g.unpack(a.chunkData.slice(2,4),d),this.sampleRate=g.unpack(a.chunkData.slice(4,8),b),this.byteRate=g.unpack(a.chunkData.slice(8,12),b),this.blockAlign=g.unpack(a.chunkData.slice(12,
14),d),this.bitsPerSample=g.unpack(a.chunkData.slice(14,16),d),this.readFmtExtension(a);else throw Error(l["fmt "]);};k.prototype.readFmtExtension=function(a){16<this.fmtChunkSize&&(this.cbSize=g.unpack(a.chunkData.slice(16,18),d),18<this.fmtChunkSize&&(this.validBitsPerSample=g.unpack(a.chunkData.slice(18,20),d)))};k.prototype.readFactChunk_=function(a){if(a=this.findChunk(a,"fact"))this.factChunkId="fact",this.factChunkSize=a.chunkSize,this.dwSampleLength=g.unpack(a.chunkData.slice(0,4),b);else if(this.enforceFact)throw Error(l.fact);
};k.prototype.readBextChunk_=function(a){if(a=this.findChunk(a,"bext"))this.bextChunkId="bext",this.bextChunkSize=a.chunkSize,this.bextChunkData=a.chunkData};k.prototype.readCueChunk_=function(a){if(a=this.findChunk(a,"cue "))this.cueChunkId="cue ",this.cueChunkSize=a.chunkSize,this.cueChunkData=a.chunkData};k.prototype.readDataChunk_=function(a,b){if(a=this.findChunk(a,"data"))this.dataChunkId="data",this.dataChunkSize=a.chunkSize,this.samplesFromBytes_(a.chunkData,b);else throw Error(l.data);};
k.prototype.samplesFromBytes_=function(a,b){b.bits=4==this.bitsPerSample?8:this.bitsPerSample;b.signed=8==b.bits?!1:!0;b.float=3==this.audioFormat||64==this.bitsPerSample?!0:!1;b.single=!1;this.samples_=g.unpackArray(a,b)};k.prototype.findChunk=function(a,b){for(var c=0;c<a.length;c++)if(a[c].chunkId==b)return a[c];return null};k.prototype.samplesToBytes_=function(a){a.bits=4==this.bitsPerSample?8:this.bitsPerSample;a.signed=8==a.bits?!1:!0;a.float=3==this.audioFormat||64==this.bitsPerSample?!0:!1;
a=g.packArray(this.samples_,a);a.length%2&&a.push(0);return a};k.prototype.getBextBytes_=function(){return this.bextChunkId?[].concat(g.packArray(this.bextChunkId,e),g.pack(this.bextChunkSize,b),this.bextChunkData):[]};k.prototype.getCueBytes_=function(){return this.cueChunkId?[].concat(g.packArray(this.cueChunkId,e),g.pack(this.cueChunkSize,b),this.cueChunkData):[]};k.prototype.getFactBytes_=function(){return this.factChunkId?[].concat(g.packArray(this.factChunkId,e),g.pack(this.factChunkSize,b),
g.pack(this.dwSampleLength,b)):[]};k.prototype.getCbSizeBytes_=function(){return 16<this.fmtChunkSize?g.pack(this.cbSize,d):[]};k.prototype.getValidBitsPerSampleBytes_=function(){return 18<this.fmtChunkSize?g.pack(this.validBitsPerSample,d):[]};k.prototype.createWaveFile_=function(){var a={be:this.LEorBE()};return g.packArray(this.chunkId,e).concat(g.pack(this.chunkSize,b),g.packArray(this.format,e),this.getBextBytes_(),g.packArray(this.fmtChunkId,e),g.pack(this.fmtChunkSize,b),g.pack(this.audioFormat,
d),g.pack(this.numChannels,d),g.pack(this.sampleRate,b),g.pack(this.byteRate,b),g.pack(this.blockAlign,d),g.pack(this.bitsPerSample,d),this.getCbSizeBytes_(),this.getValidBitsPerSampleBytes_(),this.getFactBytes_(),g.packArray(this.dataChunkId,e),g.pack(this.dataChunkSize,b),this.samplesToBytes_(a),this.getCueBytes_())};a.exports=k},function(a,k,h){var g=h(13),l=h(15);k=h(17);h=h(2);a.exports.pack=function(a,d,b){b=void 0===b?10:b;d=Object.assign({},d);d.base=b;d.single=!0;a=d.char?a[0]:a;return g.toBytes(a,
d.bits,d)};a.exports.unpack=function(a,d,b){b=void 0===b?10:b;d=Object.assign({},d);d.base=b;d.single=!0;return l.fromBytes(a,d.bits,d)};a.exports.packArray=function(a,d,b){b=void 0===b?10:b;d=Object.assign({},d);d.base=b;d.single=!1;return g.toBytes(a,d.bits,d)};a.exports.unpackArray=function(a,d,b){b=void 0===b?10:b;d=Object.assign({},d);d.base=b;d.single=!1;return l.fromBytes(a,d.bits,d)};a.exports.chr={bits:8,"char":!0,single:!0};a.exports.bool={bits:1,single:!0};a.exports.int2={bits:2,signed:!0,
single:!0};a.exports.uInt2={bits:2,single:!0};a.exports.int4={bits:4,signed:!0,single:!0};a.exports.uInt4={bits:4,single:!0};a.exports.int8={bits:8,signed:!0,single:!0};a.exports.uInt8={bits:8,single:!0};a.exports.int16={bits:16,signed:!0,single:!0};a.exports.uInt16={bits:16,single:!0};a.exports.float16={bits:16,"float":!0,single:!0};a.exports.int24={bits:24,signed:!0,single:!0};a.exports.uInt24={bits:24,single:!0};a.exports.int32={bits:32,signed:!0,single:!0};a.exports.uInt32={bits:32,single:!0};
a.exports.float32={bits:32,"float":!0,single:!0};a.exports.int40={bits:40,signed:!0,single:!0};a.exports.uInt40={bits:40,single:!0};a.exports.int48={bits:48,signed:!0,single:!0};a.exports.uInt48={bits:48,single:!0};a.exports.float64={bits:64,"float":!0,single:!0};a.exports.findString=function(a,d){for(var b,e=0;e<a.length;e++)if(b=l.fromBytes(a.slice(e,e+d.length),8,{"char":!0}),b==d)return e;return-1};a.exports.toBytes=g.toBytes;a.exports.fromBytes=l.fromBytes;a.exports.packBooleans=k.packBooleans;
a.exports.unpackBooleans=k.unpackBooleans;a.exports.packCrumbs=k.packCrumbs;a.exports.unpackCrumbs=k.unpackCrumbs;a.exports.packNibbles=k.packNibbles;a.exports.unpackNibbles=k.unpackNibbles;a.exports.BitDepthOffsets=h.BitDepthOffsets;a.exports.BitDepthMaxValues=h.BitDepthMaxValues},function(a,k,h){var g=h(14),l=h(0),f=h(2);a.exports.toBytes=function(a,b,e){e=void 0===e?{base:10,signed:!1}:e;64==b&&(e.float=!0);e.float&&(e.signed=!0);e.bits=b;a=l.turnToArray(a);var c=e;var d=c.char?g.writeString:g["write"+
b+"Bit"+(c.float?"Float":"")];var h=0,k=0,w=a.length,q=[];if(c.signed){var r=f.BitDepthMaxValues[b]/2-1;var t=f.BitDepthMaxValues[b]/2*-1}else r=f.BitDepthMaxValues[b]-1,t=0;for(;h<w;){var n=a,p=h,u=t,v=r;n[p]>v?n[p]=v:n[p]<u&&(n[p]=u);k=d(q,a,h,k,c.signed);h++}a=q;l.makeBigEndian(a,e.be,b);l.outputToBase(a,b,e.base);e.buffer&&(a=new Uint8Array(a));return a}},function(a,k,h){function g(a,b,e,c){a[c++]=b[e]&255;a[c++]=b[e]>>>8&255;a[c++]=b[e]>>>16&255;a[c++]=b[e]>>>24&255;return c}var l=h(6),f=h(3);
a.exports.write64BitFloat=function(a,b,e,c){b=l.toFloat64(b[e]);c=g(a,b,1,c);return g(a,b,0,c)};a.exports.write48Bit=function(a,b,e,c){a[c++]=b[e]&255;a[c++]=b[e]>>8&255;a[c++]=b[e]>>16&255;a[c++]=b[e]>>24&255;a[c++]=b[e]/4294967296&255;a[c++]=b[e]/1099511627776&255;return c};a.exports.write40Bit=function(a,b,e,c){a[c++]=b[e]&255;a[c++]=b[e]>>8&255;a[c++]=b[e]>>16&255;a[c++]=b[e]>>24&255;a[c++]=b[e]/4294967296&255;return c};a.exports.write32BitFloat=function(a,b,e,c){b=f.unpack(b[e]);a[c++]=b&255;
a[c++]=b>>>8&255;a[c++]=b>>>16&255;a[c++]=b>>>24&255;return c};a.exports.write32Bit=g;a.exports.write24Bit=function(a,b,e,c){a[c++]=b[e]&255;a[c++]=b[e]>>>8&255;a[c++]=b[e]>>>16&255;return c};a.exports.write16Bit=function(a,b,e,c){a[c++]=b[e]&255;a[c++]=b[e]>>>8&255;return c};a.exports.write16BitFloat=function(a,b,e,c){b=l.toHalf(b[e]);a[c++]=b>>>8&255;a[c++]=b&255;return c};a.exports.write8Bit=function(a,b,e,c){a[c++]=b[e]&255;return c};a.exports.write4Bit=function(a,b,e,c){a[c++]=b[e]&15;return c};
a.exports.write2Bit=function(a,b,e,c){a[c++]=0>b[e]?b[e]+4:b[e];return c};a.exports.write1Bit=function(a,b,e,c){a[c++]=b[e]?1:0;return c};a.exports.writeString=function(a,b,e,c){a[c++]=b.charCodeAt(e);return c}},function(a,k,h){function g(a,e,c,l){var b=[],g=0,h=0,k=f.BitDepthOffsets[e],m=a.length-(k-1);e=f.BitDepthMaxValues[e];for(c=c?d.signed:function(a,b){return a};g<m;)b[h]=c(l(a,g),e),g+=k,h++;return b}var l=h(16),f=h(2),d=h(0);a.exports.fromBytes=function(a,e,c){c=void 0===c?{base:10}:c;64==
e&&(c.float=!0);d.makeBigEndian(a,c.be,e);d.bytesToInt(a,c.base);a=g(a,e,c.signed,c.char?l.readChar:l["read"+(2==e||4==e?8:e)+"Bit"+(c.float?"Float":"")]);c.char&&(a=a.join(""));c.single&&(a=a[0]);return a}},function(a,k,h){function g(a,b,d){--d;for(var c="";0<=d;)c+=f.bytePadding(a[d+b].toString(2),2),d--;return parseInt(c,2)}function l(a,b){return(a[3+b]<<24|a[2+b]<<16|a[1+b]<<8|a[b])>>>0}var f=h(0),d=h(6),b=h(3);a.exports.readChar=function(a,b){return String.fromCharCode(a[b])};a.exports.read1Bit=
function(a,b){return parseInt(a[b],2)};a.exports.read8Bit=function(a,b){return a[b]};a.exports.read16Bit=function(a,b){return a[1+b]<<8|a[b]};a.exports.read16BitFloat=function(a,b){return d.decodeFloat16(a.slice(b,b+2))};a.exports.read24Bit=function(a,b){return a[2+b]<<16|a[1+b]<<8|a[b]};a.exports.read32Bit=l;a.exports.read32BitFloat=function(a,c){return b.pack(l(a,c))};a.exports.read40Bit=function(a,b){return g(a,b,5)};a.exports.read48Bit=function(a,b){return g(a,b,6)};a.exports.read64BitFloat=function(a,
b){return d.decodeFloat64(a.slice(b,b+8))}},function(a,k,h){var g=h(0);a.exports.packBooleans=function(a){var f=[],d=0,b=0;g.fixByteArraySize(a,8);for(var e=a.length-7;d<e;)f[b++]=parseInt(a[d].toString(2)+a[d+1].toString(2)+a[d+2].toString(2)+a[d+3].toString(2)+a[d+4].toString(2)+a[d+5].toString(2)+a[d+6].toString(2)+a[d+7].toString(2),2),d+=8;return f};a.exports.unpackBooleans=function(a){for(var f=[],d=0,b=0,e=a.length,c;d<e;)c=g.lPadZeros(a[d].toString(2),8),f[b++]=parseInt(c[0],2),f[b++]=parseInt(c[1],
2),f[b++]=parseInt(c[2],2),f[b++]=parseInt(c[3],2),f[b++]=parseInt(c[4],2),f[b++]=parseInt(c[5],2),f[b++]=parseInt(c[6],2),f[b++]=parseInt(c[7],2),d++;return f};a.exports.packCrumbs=function(a){var f=[],d=0,b=0;g.fixByteArraySize(a,4);for(var e=a.length-3;d<e;)f[b++]=parseInt(g.lPadZeros(a[d].toString(2),2)+g.lPadZeros(a[d+1].toString(2),2)+g.lPadZeros(a[d+2].toString(2),2)+g.lPadZeros(a[d+3].toString(2),2),2),d+=4;return f};a.exports.unpackCrumbs=function(a){for(var f=[],d=0,b=0,e=a.length,c;d<e;)c=
g.lPadZeros(a[d].toString(2),8),f[b++]=parseInt(c[0]+c[1],2),f[b++]=parseInt(c[2]+c[3],2),f[b++]=parseInt(c[4]+c[5],2),f[b++]=parseInt(c[6]+c[7],2),d++;return f};a.exports.packNibbles=function(a){var f=[],d=0,b=0,e=a.length;for(e%2&&a.push(0);d<e;)f[b++]=parseInt(a[d].toString(16)+a[d+1].toString(16),16),d+=2;return f};a.exports.unpackNibbles=function(a){for(var f=[],d=0,b=0,e=a.length;d<e;)f[b++]=parseInt(a[d].toString(16)[0],16),f[b++]=parseInt(a[d].toString(16)[1],16),d++;return f}},function(a,
k){a.exports=function(){this.chunkId="";this.chunkSize=0;this.fmtChunkId=this.format="";this.validBitsPerSample=this.cbSize=this.bitsPerSample=this.blockAlign=this.byteRate=this.sampleRate=this.numChannels=this.audioFormat=this.fmtChunkSize=0;this.factChunkId="";this.factChunkSize=0;this.factChunkData=[];this.dwSampleLength=0;this.cueChunkId="";this.cueChunkSize=-1;this.cueChunkData=[];this.dataChunkId="";this.dataChunkSize=0;this.bextChunkId="";this.bextChunkSize=0;this.bextChunkData=[]}},function(a,
k,h){function g(a,d){void 0!==d&&d||(e.be="RIFX"==a.chunkId);d=b.packArray(a.chunkId,c).concat(b.pack(a.chunkSize,e),b.packArray(a.format,c),l(a.subChunks,e.be));if("RIFF"==a.chunkId||"RIFX"==a.chunkId)d=new Uint8Array(d);return d}function l(a,d){for(var f=[],h=0;h<a.length;)f="LIST"==a[h].chunkId?f.concat(g(a[h],d)):f.concat(b.packArray(a[h].chunkId,c),b.pack(a[h].chunkSize,e),a[h].chunkData),h++;return f}function f(a){for(var b=[],c=12;c<a.length;)b.push(d(a,c)),c+=8+b[b.length-1].chunkSize;return b}
function d(a,d){var g={chunkId:b.unpackArray(a.slice(d,d+4),c),chunkSize:b.unpack(a.slice(d+4,d+8),e)};"LIST"==g.chunkId?(g.format=b.unpackArray(a.slice(8,12),c),g.subChunks=f(a.slice(d,d+g.chunkSize))):g.chunkData=a.slice(d+8,d+8+g.chunkSize);return g}var b=h(20),e=b.uInt32,c=b.chr;a.exports.read=function(a){a=[].slice.call(a);var d=b.unpackArray(a.slice(0,4),c);e.be="RIFX"==d;var g=b.unpack(a.slice(4,8),e);return{chunkId:d,chunkSize:g,format:b.unpackArray(a.slice(8,12),c),subChunks:f(a)}};a.exports.write=
g},function(a,k,h){var g=h(21),l=h(23);k=h(25);h=h(4);a.exports.pack=function(a,d,b){b=void 0===b?10:b;d=Object.assign({},d);d.base=b;d.single=!0;a=d.char?a[0]:a;return g.toBytes(a,d.bits,d)};a.exports.unpack=function(a,d,b){b=void 0===b?10:b;d=Object.assign({},d);d.base=b;d.single=!0;return l.fromBytes(a,d.bits,d)};a.exports.packArray=function(a,d,b){b=void 0===b?10:b;d=Object.assign({},d);d.base=b;d.single=!1;return g.toBytes(a,d.bits,d)};a.exports.unpackArray=function(a,d,b){b=void 0===b?10:b;
d=Object.assign({},d);d.base=b;d.single=!1;return l.fromBytes(a,d.bits,d)};a.exports.chr={bits:8,"char":!0,single:!0};a.exports.bool={bits:1,single:!0};a.exports.int2={bits:2,signed:!0,single:!0};a.exports.uInt2={bits:2,single:!0};a.exports.int4={bits:4,signed:!0,single:!0};a.exports.uInt4={bits:4,single:!0};a.exports.int8={bits:8,signed:!0,single:!0};a.exports.uInt8={bits:8,single:!0};a.exports.int16={bits:16,signed:!0,single:!0};a.exports.uInt16={bits:16,single:!0};a.exports.float16={bits:16,"float":!0,
single:!0};a.exports.int24={bits:24,signed:!0,single:!0};a.exports.uInt24={bits:24,single:!0};a.exports.int32={bits:32,signed:!0,single:!0};a.exports.uInt32={bits:32,single:!0};a.exports.float32={bits:32,"float":!0,single:!0};a.exports.int40={bits:40,signed:!0,single:!0};a.exports.uInt40={bits:40,single:!0};a.exports.int48={bits:48,signed:!0,single:!0};a.exports.uInt48={bits:48,single:!0};a.exports.float64={bits:64,"float":!0,single:!0};a.exports.findString=function(a,d){for(var b,e=0;e<a.length;e++)if(b=
l.fromBytes(a.slice(e,e+d.length),8,{"char":!0}),b==d)return e;return-1};a.exports.toBytes=g.toBytes;a.exports.fromBytes=l.fromBytes;a.exports.packBooleans=k.packBooleans;a.exports.unpackBooleans=k.unpackBooleans;a.exports.packCrumbs=k.packCrumbs;a.exports.unpackCrumbs=k.unpackCrumbs;a.exports.packNibbles=k.packNibbles;a.exports.unpackNibbles=k.unpackNibbles;a.exports.BitDepthOffsets=h.BitDepthOffsets;a.exports.BitDepthMaxValues=h.BitDepthMaxValues},function(a,k,h){var g=h(22),l=h(1),f=h(4);a.exports.toBytes=
function(a,b,e){e=void 0===e?{base:10,signed:!1}:e;64==b&&(e.float=!0);e.float&&(e.signed=!0);e.bits=b;a=l.turnToArray(a);var c=e;var d=c.char?g.writeString:g["write"+b+"Bit"+(c.float?"Float":"")];var h=0,k=0,w=a.length,q=[];if(c.signed){var r=f.BitDepthMaxValues[b]/2-1;var t=f.BitDepthMaxValues[b]/2*-1}else r=f.BitDepthMaxValues[b]-1,t=0;for(;h<w;){var n=a,p=h,u=t,v=r;n[p]>v?n[p]=v:n[p]<u&&(n[p]=u);k=d(q,a,h,k,c.signed);h++}a=q;l.makeBigEndian(a,e.be,b);l.outputToBase(a,b,e.base);e.buffer&&(a=new Uint8Array(a));
return a}},function(a,k,h){function g(a,b,e,c){a[c++]=b[e]&255;a[c++]=b[e]>>>8&255;a[c++]=b[e]>>>16&255;a[c++]=b[e]>>>24&255;return c}var l=h(8),f=h(3);a.exports.write64BitFloat=function(a,b,e,c){b=l.toFloat64(b[e]);c=g(a,b,1,c);return g(a,b,0,c)};a.exports.write48Bit=function(a,b,e,c){a[c++]=b[e]&255;a[c++]=b[e]>>8&255;a[c++]=b[e]>>16&255;a[c++]=b[e]>>24&255;a[c++]=b[e]/4294967296&255;a[c++]=b[e]/1099511627776&255;return c};a.exports.write40Bit=function(a,b,e,c){a[c++]=b[e]&255;a[c++]=b[e]>>8&255;
a[c++]=b[e]>>16&255;a[c++]=b[e]>>24&255;a[c++]=b[e]/4294967296&255;return c};a.exports.write32BitFloat=function(a,b,e,c){b=f.unpack(b[e]);a[c++]=b&255;a[c++]=b>>>8&255;a[c++]=b>>>16&255;a[c++]=b>>>24&255;return c};a.exports.write32Bit=g;a.exports.write24Bit=function(a,b,e,c){a[c++]=b[e]&255;a[c++]=b[e]>>>8&255;a[c++]=b[e]>>>16&255;return c};a.exports.write16Bit=function(a,b,e,c){a[c++]=b[e]&255;a[c++]=b[e]>>>8&255;return c};a.exports.write16BitFloat=function(a,b,e,c){b=l.toHalf(b[e]);a[c++]=b>>>8&
255;a[c++]=b&255;return c};a.exports.write8Bit=function(a,b,e,c){a[c++]=b[e]&255;return c};a.exports.write4Bit=function(a,b,e,c){a[c++]=b[e]&15;return c};a.exports.write2Bit=function(a,b,e,c){a[c++]=0>b[e]?b[e]+4:b[e];return c};a.exports.write1Bit=function(a,b,e,c){a[c++]=b[e]?1:0;return c};a.exports.writeString=function(a,b,e,c){a[c++]=b.charCodeAt(e);return c}},function(a,k,h){function g(a,e,c,g){var b=[],h=0,l=0,k=f.BitDepthOffsets[e],m=a.length-(k-1);e=f.BitDepthMaxValues[e];for(c=c?d.signed:
function(a,b){return a};h<m;)b[l]=c(g(a,h),e),h+=k,l++;return b}var l=h(24),f=h(4),d=h(1);a.exports.fromBytes=function(a,e,c){c=void 0===c?{base:10}:c;d.makeBigEndian(a,c.be,e);d.bytesToInt(a,c.base);a=g(a,e,c.signed,c.char?l.readChar:l["read"+(2==e||4==e?8:e)+"Bit"+(c.float?"Float":"")]);c.char&&(a=a.join(""));c.single&&(a=a[0]);return a}},function(a,k,h){function g(a,b,d){--d;for(var c="";0<=d;)c+=f.bytePadding(a[d+b].toString(2),2),d--;return parseInt(c,2)}function l(a,b){return(a[3+b]<<24|a[2+
b]<<16|a[1+b]<<8|a[b])>>>0}var f=h(1),d=h(8),b=h(3);a.exports.readChar=function(a,b){return String.fromCharCode(a[b])};a.exports.read1Bit=function(a,b){return parseInt(a[b],2)};a.exports.read8Bit=function(a,b){return a[b]};a.exports.read16Bit=function(a,b){return a[1+b]<<8|a[b]};a.exports.read16BitFloat=function(a,b){return d.decodeFloat16(a.slice(b,b+2))};a.exports.read24Bit=function(a,b){return a[2+b]<<16|a[1+b]<<8|a[b]};a.exports.read32Bit=l;a.exports.read32BitFloat=function(a,c){return b.pack(l(a,
c))};a.exports.read40Bit=function(a,b){return g(a,b,5)};a.exports.read48Bit=function(a,b){return g(a,b,6)};a.exports.read64Bit=function(a,b){return d.decodeFloat64(a.slice(b,b+8))}},function(a,k,h){var g=h(1);a.exports.packBooleans=function(a){var f=[],d=0,b=0;g.fixByteArraySize(a,8);for(var e=a.length-7;d<e;)f[b++]=parseInt(a[d].toString(2)+a[d+1].toString(2)+a[d+2].toString(2)+a[d+3].toString(2)+a[d+4].toString(2)+a[d+5].toString(2)+a[d+6].toString(2)+a[d+7].toString(2),2),d+=8;return f};a.exports.unpackBooleans=
function(a){for(var f=[],d=0,b=0,e=a.length,c;d<e;)c=g.lPadZeros(a[d].toString(2),8),f[b++]=parseInt(c[0],2),f[b++]=parseInt(c[1],2),f[b++]=parseInt(c[2],2),f[b++]=parseInt(c[3],2),f[b++]=parseInt(c[4],2),f[b++]=parseInt(c[5],2),f[b++]=parseInt(c[6],2),f[b++]=parseInt(c[7],2),d++;return f};a.exports.packCrumbs=function(a){var f=[],d=0,b=0;g.fixByteArraySize(a,4);for(var e=a.length-3;d<e;)f[b++]=parseInt(g.lPadZeros(a[d].toString(2),2)+g.lPadZeros(a[d+1].toString(2),2)+g.lPadZeros(a[d+2].toString(2),
2)+g.lPadZeros(a[d+3].toString(2),2),2),d+=4;return f};a.exports.unpackCrumbs=function(a){for(var f=[],d=0,b=0,e=a.length,c;d<e;)c=g.lPadZeros(a[d].toString(2),8),f[b++]=parseInt(c[0]+c[1],2),f[b++]=parseInt(c[2]+c[3],2),f[b++]=parseInt(c[4]+c[5],2),f[b++]=parseInt(c[6]+c[7],2),d++;return f};a.exports.packNibbles=function(a){var f=[],d=0,b=0,e=a.length;for(e%2&&a.push(0);d<e;)f[b++]=parseInt(a[d].toString(16)+a[d+1].toString(16),16),d+=2;return f};a.exports.unpackNibbles=function(a){for(var f=[],
d=0,b=0,e=a.length;d<e;)f[b++]=parseInt(a[d].toString(16)[0],16),f[b++]=parseInt(a[d].toString(16)[1],16),d++;return f}}]);
