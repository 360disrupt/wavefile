/*
 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

 wavefile
 Read & write wave files with 8, 16, 24, 32 & 64-bit data.
 Copyright (c) 2017-2018 Rafael da Silva Rocha.
 https://github.com/rochars/wavefile

 bitdepth
 Change the bit depth of samples to and from 8, 16, 24, 32 & 64-bit.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/bitdepth

 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 riff-chunks
 Read and write the chunks of RIFF and RIFX files.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/riff-chunks

*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var d=function(){};d.prototype=a;return new d};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},d={};try{return d.__proto__=a,d.a}catch(h){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,d){a.__proto__=d;if(a.__proto__!==d)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,d){a.prototype=$jscomp.objectCreate(d.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var h=$jscomp.setPrototypeOf;h(a,d)}else for(h in d)if("prototype"!=h)if(Object.defineProperties){var g=Object.getOwnPropertyDescriptor(d,h);g&&Object.defineProperty(a,h,g)}else a[h]=d[h];a.superClass_=d.prototype};$jscomp.owns=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)};
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,h){a!=Array.prototype&&a!=Object.prototype&&(a[d]=h.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,h,g){if(d){h=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var l=a[g];l in h||(h[l]={});h=h[l]}a=a[a.length-1];g=h[a];d=d(g);d!=g&&null!=d&&$jscomp.defineProperty(h,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,h){for(var d=1;d<arguments.length;d++){var l=arguments[d];if(l)for(var e in l)$jscomp.owns(l,e)&&(a[e]=l[e])}return a}},"es6","es3");
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,h){return a===h?0!==a||1/a===1/h:a!==a&&h!==h}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,h){var d=this;d instanceof String&&(d=String(d));var l=d.length;for(h=h||0;h<l;h++)if(d[h]==a||Object.is(d[h],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,d,h){if(null==a)throw new TypeError("The 'this' value for String.prototype."+h+" must not be null or undefined");if(d instanceof RegExp)throw new TypeError("First argument to String.prototype."+h+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,h){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,h||0)}},"es6","es3");
(function(a){function d(g){if(h[g])return h[g].exports;var l=h[g]={i:g,l:!1,exports:{}};a[g].call(l.exports,l,l.exports,d);l.l=!0;return l.exports}var h={};d.m=a;d.c=h;d.d=function(a,l,e){d.o(a,l)||Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:e})};d.n=function(a){var g=a&&a.__esModule?function(){return a["default"]}:function(){return a};d.d(g,"a",g);return g};d.o=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)};d.p="";return d(d.s=9)})([function(a,d,h){function g(a,
f,b){a[b]=l(a[b],f)}function l(a,f){var b=a.length+1;2==f?b=8:16==f&&(b=2);return c(a,b)}function e(a,f,b){2==f&&4>a[b].length&&(a[b]=Array(5-a[b].length).join("0")+a[b])}function k(a,f,b){(2==f||16==f)&&2>a[b].length&&(a[b]="0"+a[b])}function c(a,f){for(;a.length<f;)a="0"+a;return a}function b(a,f,b){b=void 0===b?g:b;if(10!=f)for(var c=0,m=a.length;c<m;)a[c]=a[c].toString(f),b(a,f,c),c++}var m=h(5),f=h(1);a.exports.makeBigEndian=function(a,b,c){b&&m(a,f.BitDepthOffsets[c])};a.exports.bytesToBase=
b;a.exports.outputToBase=function(a,f,c){4==f?b(a,c,e):2==f?b(a,c,k):1==f?b(a,c,function(){}):b(a,c)};a.exports.signed=function(a,f){a>parseInt(f/2,10)-1&&(a-=f);return a};a.exports.padding=g;a.exports.paddingNibble=e;a.exports.paddingCrumb=k;a.exports.bytePadding=l;a.exports.lPadZeros=c;a.exports.fixFloat16Endianness=function(a,f){f.float&&16==f.bits&&m(a,2)};a.exports.getType=function(a,f,b){a=Object.assign({},a);a.base=f;a.single=b;64==a.bits&&(a.float=!0);a.float&&(a.signed=!0);a.offset=8>a.bits?
1:a.bits/8;return a};a.exports.turnToArray=function(a){Array.isArray(a)||"string"==typeof a||(a=[a]);return a}},function(a,d){a.exports.BitDepthOffsets={1:1,2:1,4:1,8:1,16:2,24:3,32:4,40:5,48:6,64:8};a.exports.BitDepthMaxValues={1:2,2:4,4:16,8:256,16:65536,24:16777216,32:4294967296,40:1099511627776,48:281474976710656,64:Infinity}},function(a,d){a.exports={format:"Not a supported format.",wave:"Could not find the 'WAVE' format identifier","fmt ":"Could not find the 'fmt ' chunk",data:"Could not find the 'data' chunk",
fact:"Could not find the 'fact' chunk",bitDepth:"Invalid bit depth.",numChannels:"Invalid number of channels.",sampleRate:"Invalid sample rate."}},function(a,d,h){var g=h(13),l=h(0),e=h(1);a.exports.toBytes=function(a,c){var b=c.char?g.writeString:g["write"+c.bits+"Bit"+(c.float?"Float":"")];var m=0,f=0,k=a.length,d=[];if(c.signed){var h=e.BitDepthMaxValues[c.bits]/2-1;var p=e.BitDepthMaxValues[c.bits]/2*-1}else h=e.BitDepthMaxValues[c.bits]-1,p=0;for(;m<k;){var t=b,n=a[m];c.float||(n>h?n=h:n<p&&
(n=p));f=t(d,n,f);m++}l.makeBigEndian(d,c.be,c.bits);l.outputToBase(d,c.bits,c.base);l.fixFloat16Endianness(d,c);return d}},function(a,d,h){function g(a,b){b=void 0===b?!1:b;for(var c="",f=0,e=a.length;f<e;){var k=l.lPadZeros(a[f].toString(2),8);c=b?c+k:k+c;f++}return c}var l=h(0),e=new Float32Array(1),k=new Int32Array(e.buffer);a.exports.getBinary=g;a.exports.decodeFloat16=function(a){a=parseInt(g(a,!0),2);var b=(a&31744)>>10,c=a&1023;return(b?Math.pow(2,b-15)*(1+c/1024):c/1024*.00006103515625)*
(a>>15?-1:1)};a.exports.decodeFloat64=function(a){if("0,0,0,0,0,0,0,0"==a.toString())return 0;a=g(a);for(var b="1"+a.substr(12,52),c=1,f=0,e=0;e<b.length;)f+=c*parseInt(b.charAt(e),10),c/=2,e++;return("1"==a.charAt(0)?-1:1)*f*Math.pow(2,parseInt(a.substr(1,11),2)-1023)};a.exports.toFloat64=function(a){if(0==a)return[0,0];var b=0;0>=a&&(b=2147483648,a=-a);var c=Math.floor(Math.log(a)/Math.log(2)),f=Math.floor(a/Math.pow(2,c)*Math.pow(2,52));a=f&4294967295;f/=Math.pow(2,32);return[b|c+1023<<20|f&1048575,
a]};a.exports.toHalf=function(a){e[0]=a;var b=k[0];a=b>>16&32768;var c=b>>12&2047;b=b>>23&255;return 103>b?a:(a|b-112<<10|c>>1)+(c&1)}},function(a,d){a.exports=function(a,d){for(var g=a.length,e=0;e<g;){for(var k=a,c=e,b=0,m=d-1,f=parseInt(d/2,10);b<f;){var q=k[c+b];k[c+b]=k[c+m];k[c+m]=q;b++;m--}e+=d}}},function(a,d){function h(a){g[0]=a;return l[0]}d=new Int8Array(4);var g=new Int32Array(d.buffer,0,1),l=new Float32Array(d.buffer,0,1);a.exports=h;a.exports.pack=h;a.exports.unpack=function(a){l[0]=
a;return g[0]}},function(a,d,h){function g(a){return a.signed&&!a.float?k.signed:function(a){return a}}var l=h(14),e=h(1),k=h(0);a.exports.fromBytes=function(a,b){var c=b.bits;k.fixFloat16Endianness(a,b);k.makeBigEndian(a,b.be,c);c=b.base;if(10!=c)for(var f=0,d=a.length;f<d;)a[f]=parseInt(a[f],c),f++;b.char?c=l.readChar:(c=b.bits,c=l["read"+(8>c?8:c)+"Bit"+(b.float?"Float":"")]);f=[];d=0;for(var h=a.length-(b.offset-1),r=g(b);d<h;)f.push(r(c(a,d,b),e.BitDepthMaxValues[b.bits])),d+=b.offset;b.char&&
(f=f.join(""));a=f;b.single&&(a=b.char?a.slice(0,b.bits/8):a[0]);return a}},function(a,d,h){var g=h(21);d=function(a){this.bits=a.bits;this.char=a["char"];this.float=a["float"];this.be=a.be;this.signed=this.float?!0:a.signed;this.writer=this.reader=null;this.offset=0;this.base=a.base?a.base:10;this.min=-Infinity;this.max=Infinity;this.build_();this.realBits=this.bits};d.prototype.sign=function(a){a>this.max&&(a-=2*this.max+2);return a};d.prototype.overflow=function(a){a>this.max?a=this.max:a<this.min&&
(a=this.min);return a};d.prototype.build_=function(){this.setRealBits_();this.offset=8>this.bits?1:this.realBits/8;this.setReader_();this.setWriter_();this.float||this.setMinMax_()};d.prototype.setReader_=function(){this.reader=this.char?g.BitReader.readChar:g.BitReader["read"+(8>this.bits?8:this.realBits)+"Bit"+(this.float?"Float":"")]};d.prototype.setWriter_=function(){this.writer=this.char?g.BitWriter.writeString:g.BitWriter["write"+this.realBits+"Bit"+(this.float?"Float":"")]};d.prototype.setMinMax_=
function(){var a=Math.pow(2,this.bits);this.signed?(this.max=a/2-1,this.min=-a/2):(this.max=a-1,this.min=0)};d.prototype.setRealBits_=function(){this.realBits=8<this.bits?16>=this.bits?16:24>=this.bits?24:32>=this.bits?32:40>=this.bits?40:48>=this.bits?48:53>=this.bits?53:64:this.bits};a.exports=d},function(a,d,h){var g=h(10),l=h(2),e=h(11),k=h(18);a=function(a){var b=e.call(this)||this;a&&b.fromBuffer(a);return b};$jscomp.inherits(a,e);a.read64BitFloat=e.read64BitFloat;a.read48Bit=e.read48Bit;a.read40Bit=
e.read40Bit;a.read32BitFloat=e.read32BitFloat;a.read32Bit=e.read32Bit;a.read24Bit=e.read24Bit;a.read16BitFloat=e.read16BitFloat;a.read16Bit=e.read16Bit;a.read8Bit=e.read8Bit;a.readChar=e.readChar;a.writeString=e.writeString;a.write1Bit=e.write1Bit;a.write2Bit=e.write2Bit;a.write4Bit=e.write4Bit;a.write8Bit=e.write8Bit;a.write16BitFloat=e.write16BitFloat;a.write16Bit=e.write16Bit;a.write24Bit=e.write24Bit;a.write32Bit=e.write32Bit;a.write32BitFloat=e.write32BitFloat;a.write40Bit=e.write40Bit;a.write48Bit=
e.write48Bit;a.write64BitFloat=e.write64BitFloat;a.unpackNibbles=e.unpackNibbles;a.packNibbles=e.packNibbles;a.unpackCrumbs=e.unpackCrumbs;a.packCrumbs=e.packCrumbs;a.unpackBooleans=e.unpackBooleans;a.packBooleans=e.packBooleans;a.fromBytes=e.fromBytes;a.toBytes=e.toBytes;a.float64BE=e.float64BE;a.uInt48BE=e.uInt48BE;a.int48BE=e.int48BE;a.uInt40BE=e.uInt40BE;a.int40BE=e.int40BE;a.float32BE=e.float32BE;a.uInt32BE=e.uInt32BE;a.int32BE=e.int32BE;a.uInt24BE=e.uInt24BE;a.int24BE=e.int24BE;a.float16BE=
e.float16BE;a.uInt16BE=e.uInt16BE;a.int16BE=e.int16BE;a.float64=e.float64;a.uInt48=e.uInt48;a.int48=e.int48;a.uInt40=e.uInt40;a.int40=e.int40;a.float32=e.float32;a.uInt32=e.uInt32;a.int32=e.int32;a.uInt24=e.uInt24;a.int24=e.int24;a.float16=e.float16;a.uInt16=e.uInt16;a.int16=e.int16;a.uInt8=e.uInt8;a.int8=e.int8;a.uInt4=e.uInt4;a.int4=e.int4;a.uInt2=e.uInt2;a.int2=e.int2;a.bool=e.bool;a.fourCC=e.fourCC;a.chr=e.chr;a.packStruct=e.packStruct;a.unpackStruct=e.unpackStruct;a.unpackArray=e.unpackArray;
a.packArray=e.packArray;a.unpack=e.unpack;a.findString=e.findString;a.pack=e.pack;a.prototype.fromScratch=function(a,b,m,f,e){e=void 0===e?{}:e;e.container||(e.container="RIFF");var c=parseInt(m,10)/8;this.chunkSize=36+f.length*c;this.fmtChunkSize=16;this.byteRate=a*c*b;this.blockAlign=a*c;this.chunkId=e.container;this.format="WAVE";this.fmtChunkId="fmt ";this.audioFormat=this.headerFormats_[m];this.numChannels=a;this.sampleRate=b;this.bitsPerSample=parseInt(m,10);this.dataChunkId="data";this.dataChunkSize=
f.length*c;this.samples=f;this.bitDepth=m};a.prototype.fromBuffer=function(a){this.readRIFFChunk_(a);var b="RIFX"==this.chunkId;a=k.read(a,b);this.readFmtChunk_(a.subChunks);this.readFactChunk_(a.subChunks);this.readBextChunk_(a.subChunks);this.readCueChunk_(a.subChunks);this.readDataChunk_(a.subChunks,{be:b,single:!0});this.bitDepth=3==this.audioFormat&&32==this.bitsPerSample?"32f":this.bitsPerSample.toString()};a.prototype.toBuffer=function(){this.checkWriteInput_();return new Uint8Array(this.createWaveFile_())};
a.prototype.toRIFF=function(){this.chunkId="RIFF";this.LEorBE()};a.prototype.toRIFX=function(){this.chunkId="RIFX";this.LEorBE()};a.prototype.toBitDepth=function(a){g.toBitDepth(this.samples,this.bitDepth,a);this.fromScratch(this.numChannels,this.sampleRate,a,this.samples,{container:this.chunkId})};a.prototype.interleave=function(){var a=[],b,e,f=this.samples[0].length;for(b=0;b<f;b++)for(e=0;e<this.samples.length;e++)a.push(this.samples[e][b]);this.samples=a};a.prototype.deInterleave=function(){var a=
[],b;for(b=0;b<this.numChannels;b++)a[b]=[];b=0;for(var e;b<this.samples.length;){for(e=0;e<this.numChannels;e++)a[e].push(this.samples[b+e]);b+=e}this.samples=a};a.prototype.checkWriteInput_=function(){this.validateBitDepth_();this.validateNumChannels_();this.validateSampleRate_()};a.prototype.validateBitDepth_=function(){if(!this.headerFormats_[this.bitDepth])throw Error(l.bitDepth);return!0};a.prototype.validateNumChannels_=function(){var a=this.numChannels*this.bitsPerSample/8;if(1>this.numChannels||
65535<a)throw Error(l.numChannels);return!0};a.prototype.validateSampleRate_=function(){var a=this.bitsPerSample/8*this.numChannels*this.sampleRate;if(1>this.sampleRate||4294967295<a)throw Error(l.sampleRate);return!0};window.WaveFile=a},function(a,d){var h=new Float32Array(1),g={8:256,16:65536,24:16777216,32:4294967296,"32f":1,64:1},l={intToInt:function(a,k){return a=0<a?parseInt(a/k.oldPositive*k.newPositive,10):parseInt(a/k.oldNegative*k.newNegative,10)},floatToInt:function(a,k){return 0<a?a*k.newPositive:
a*k.newNegative},intToFloat:function(a,k){return 0<a?a/k.oldPositive:a/k.oldNegative},floatToFloat:function(a,k){"64"==k.original&&"32f"==k.target&&(h[0]=a,a=h[0]);return a}};a.exports.toBitDepth=function(a,k,c){var b="8 16 24 32 32f 64".split(" ");if(-1==b.indexOf(k)||-1==b.indexOf(c))throw Error("Invalid bit depth.");b=["32f","64"].includes(k)?"float":"int";var m=["32f","64"].includes(c)?"Float":"Int";b=l[b+"To"+m];m=a.length;for(var f=0;f<m;f++){var e=f,d=a[f];"8"==k&&(d-=128);a[e]=d;a[f]=b(a[f],
{oldNegative:g[k]/2,newNegative:g[c]/2,oldPositive:g[k]/2-1,newPositive:g[c]/2-1,original:k,target:c});e=f;d=a[f];"8"==c&&(d+=128);a[e]=d}};a.exports.BitDepthMaxValues=g},function(a,d,h){var g=h(12),l=h(2),e=g.uInt8,k=g.uInt16,c=g.uInt32,b=g.chr,m=h(17);d=function(){var a=m.call(this)||this;a.headerFormats_={4:17,8:1,16:1,24:1,32:1,"32f":3,64:3};a.samples=[];return a};$jscomp.inherits(d,m);d.write=m.write;d.read=m.read;d.prototype.readRIFFChunk_=function(a){this.chunkId=g.unpackArray(a.slice(0,4),
b);if("RIFF"!=this.chunkId&&"RIFX"!=this.chunkId)throw Error(l.format);this.LEorBE();this.chunkSize=g.unpack(a.slice(4,8),c);this.format=g.unpackArray(a.slice(8,12),b);if("WAVE"!=this.format)throw Error(l.wave);};d.prototype.LEorBE=function(){var a="RIFX"==this.chunkId;e.be=a;k.be=a;return c.be=a};d.prototype.readFmtChunk_=function(a){if(a=this.findChunk(a,"fmt "))this.fmtChunkId="fmt ",this.fmtChunkSize=a.chunkSize,this.audioFormat=g.unpack(a.chunkData.slice(0,2),k),this.numChannels=g.unpack(a.chunkData.slice(2,
4),k),this.sampleRate=g.unpack(a.chunkData.slice(4,8),c),this.byteRate=g.unpack(a.chunkData.slice(8,12),c),this.blockAlign=g.unpack(a.chunkData.slice(12,14),k),this.bitsPerSample=g.unpack(a.chunkData.slice(14,16),k),this.readFmtExtension(a);else throw Error(l["fmt "]);};d.prototype.readFmtExtension=function(a){16<this.fmtChunkSize&&(this.cbSize=g.unpack(a.chunkData.slice(16,18),k),18<this.fmtChunkSize&&(this.validBitsPerSample=g.unpack(a.chunkData.slice(18,20),k)))};d.prototype.readFactChunk_=function(a){if(a=
this.findChunk(a,"fact"))this.factChunkId="fact",this.factChunkSize=a.chunkSize,this.dwSampleLength=g.unpack(a.chunkData.slice(0,4),c);else if(this.enforceFact)throw Error(l.fact);};d.prototype.readBextChunk_=function(a){if(a=this.findChunk(a,"bext"))this.bextChunkId="bext",this.bextChunkSize=a.chunkSize,this.bextChunkData=a.chunkData};d.prototype.readCueChunk_=function(a){if(a=this.findChunk(a,"cue "))this.cueChunkId="cue ",this.cueChunkSize=a.chunkSize,this.cueChunkData=a.chunkData};d.prototype.readDataChunk_=
function(a,b){if(a=this.findChunk(a,"data"))this.dataChunkId="data",this.dataChunkSize=a.chunkSize,this.samplesFromBytes_(a.chunkData,b);else throw Error(l.data);};d.prototype.samplesFromBytes_=function(a,b){b.bits=4==this.bitsPerSample?8:this.bitsPerSample;b.signed=8==b.bits?!1:!0;b.float=3==this.audioFormat||64==this.bitsPerSample?!0:!1;b.single=!1;this.samples=g.unpackArray(a,b)};d.prototype.findChunk=function(a,b){for(var f=0;f<a.length;f++)if(a[f].chunkId==b)return a[f];return null};d.prototype.samplesToBytes_=
function(a){a.bits=4==this.bitsPerSample?8:this.bitsPerSample;a.signed=8==a.bits?!1:!0;a.float=3==this.audioFormat||64==this.bitsPerSample?!0:!1;a=g.packArray(this.samples,a);a.length%2&&a.push(0);return a};d.prototype.getBextBytes_=function(){return this.bextChunkId?[].concat(g.packArray(this.bextChunkId,b),g.pack(this.bextChunkSize,c),this.bextChunkData):[]};d.prototype.getCueBytes_=function(){return this.cueChunkId?[].concat(g.packArray(this.cueChunkId,b),g.pack(this.cueChunkSize,c),this.cueChunkData):
[]};d.prototype.getFactBytes_=function(){return this.factChunkId?[].concat(g.packArray(this.factChunkId,b),g.pack(this.factChunkSize,c),g.pack(this.dwSampleLength,c)):[]};d.prototype.getCbSizeBytes_=function(){return 16<this.fmtChunkSize?g.pack(this.cbSize,k):[]};d.prototype.getValidBitsPerSampleBytes_=function(){return 18<this.fmtChunkSize?g.pack(this.validBitsPerSample,k):[]};d.prototype.createWaveFile_=function(){var a={be:this.LEorBE()};return g.packArray(this.chunkId,b).concat(g.pack(this.chunkSize,
c),g.packArray(this.format,b),this.getBextBytes_(),g.packArray(this.fmtChunkId,b),g.pack(this.fmtChunkSize,c),g.pack(this.audioFormat,k),g.pack(this.numChannels,k),g.pack(this.sampleRate,c),g.pack(this.byteRate,c),g.pack(this.blockAlign,k),g.pack(this.bitsPerSample,k),this.getCbSizeBytes_(),this.getValidBitsPerSampleBytes_(),this.getFactBytes_(),g.packArray(this.dataChunkId,b),g.pack(this.dataChunkSize,c),this.samplesToBytes_(a),this.getCueBytes_())};a.exports=d},function(a,d,h){d=h(3);var g=h(7),
l=h(15);h=h(16);a.exports.pack=h.pack;a.exports.findString=h.findString;a.exports.unpack=h.unpack;a.exports.packArray=h.packArray;a.exports.unpackArray=h.unpackArray;a.exports.unpackStruct=h.unpackStruct;a.exports.packStruct=h.packStruct;a.exports.chr={bits:8,"char":!0,single:!0};a.exports.fourCC={bits:32,"char":!0,single:!0};a.exports.bool={bits:1,single:!0};a.exports.int2={bits:2,signed:!0,single:!0};a.exports.uInt2={bits:2,single:!0};a.exports.int4={bits:4,signed:!0,single:!0};a.exports.uInt4=
{bits:4,single:!0};a.exports.int8={bits:8,signed:!0,single:!0};a.exports.uInt8={bits:8,single:!0};a.exports.int16={bits:16,signed:!0,single:!0};a.exports.uInt16={bits:16,single:!0};a.exports.float16={bits:16,"float":!0,single:!0};a.exports.int24={bits:24,signed:!0,single:!0};a.exports.uInt24={bits:24,single:!0};a.exports.int32={bits:32,signed:!0,single:!0};a.exports.uInt32={bits:32,single:!0};a.exports.float32={bits:32,"float":!0,single:!0};a.exports.int40={bits:40,signed:!0,single:!0};a.exports.uInt40=
{bits:40,single:!0};a.exports.int48={bits:48,signed:!0,single:!0};a.exports.uInt48={bits:48,single:!0};a.exports.float64={bits:64,"float":!0,single:!0};a.exports.int16BE={bits:16,signed:!0,single:!0,be:!0};a.exports.uInt16BE={bits:16,single:!0,be:!0};a.exports.float16BE={bits:16,"float":!0,single:!0,be:!0};a.exports.int24BE={bits:24,signed:!0,single:!0,be:!0};a.exports.uInt24BE={bits:24,single:!0,be:!0};a.exports.int32BE={bits:32,signed:!0,single:!0,be:!0};a.exports.uInt32BE={bits:32,single:!0,be:!0};
a.exports.float32BE={bits:32,"float":!0,single:!0,be:!0};a.exports.int40BE={bits:40,signed:!0,single:!0,be:!0};a.exports.uInt40BE={bits:40,single:!0,be:!0};a.exports.int48BE={bits:48,signed:!0,single:!0,be:!0};a.exports.uInt48BE={bits:48,single:!0,be:!0};a.exports.float64BE={bits:64,"float":!0,single:!0,be:!0};a.exports.toBytes=d.toBytes;a.exports.fromBytes=g.fromBytes;a.exports.packBooleans=l.packBooleans;a.exports.unpackBooleans=l.unpackBooleans;a.exports.packCrumbs=l.packCrumbs;a.exports.unpackCrumbs=
l.unpackCrumbs;a.exports.packNibbles=l.packNibbles;a.exports.unpackNibbles=l.unpackNibbles},function(a,d,h){function g(a,c,b){a[b++]=c&255;a[b++]=c>>>8&255;a[b++]=c>>>16&255;a[b++]=c>>>24&255;return b}var l=h(4),e=h(6);a.exports.write64BitFloat=function(a,c,b){c=l.toFloat64(c);b=g(a,c[1],b);return g(a,c[0],b)};a.exports.write48Bit=function(a,c,b){a[b++]=c&255;a[b++]=c>>8&255;a[b++]=c>>16&255;a[b++]=c>>24&255;a[b++]=c/4294967296&255;a[b++]=c/1099511627776&255;return b};a.exports.write40Bit=function(a,
c,b){a[b++]=c&255;a[b++]=c>>8&255;a[b++]=c>>16&255;a[b++]=c>>24&255;a[b++]=c/4294967296&255;return b};a.exports.write32BitFloat=function(a,c,b){c=e.unpack(c);a[b++]=c&255;a[b++]=c>>>8&255;a[b++]=c>>>16&255;a[b++]=c>>>24&255;return b};a.exports.write32Bit=g;a.exports.write24Bit=function(a,c,b){a[b++]=c&255;a[b++]=c>>>8&255;a[b++]=c>>>16&255;return b};a.exports.write16Bit=function(a,c,b){a[b++]=c&255;a[b++]=c>>>8&255;return b};a.exports.write16BitFloat=function(a,c,b){c=l.toHalf(c);a[b++]=c>>>8&255;
a[b++]=c&255;return b};a.exports.write8Bit=function(a,c,b){a[b++]=c&255;return b};a.exports.write4Bit=function(a,c,b){a[b++]=c&15;return b};a.exports.write2Bit=function(a,c,b){a[b++]=0>c?c+4:c;return b};a.exports.write1Bit=function(a,c,b){a[b++]=c?1:0;return b};a.exports.writeString=function(a,c,b){a[b++]=c.charCodeAt(0);return b}},function(a,d,h){function g(a,c,f){--f;for(var b="";0<=f;)b+=e.bytePadding(a[f+c].toString(2),2),f--;return parseInt(b,2)}function l(a,c){return(a[3+c]<<24|a[2+c]<<16|a[1+
c]<<8|a[c])>>>0}var e=h(0),k=h(4),c=h(6);a.exports.readChar=function(a,c,f){var b="",e=0;for(f=f.bits/8;e<f;)b+=String.fromCharCode(a[c+e]),e++;return b};a.exports.read8Bit=function(a,c){return a[c]};a.exports.read16Bit=function(a,c){return a[1+c]<<8|a[c]};a.exports.read16BitFloat=function(a,c){return k.decodeFloat16(a.slice(c,c+2))};a.exports.read24Bit=function(a,c){return a[2+c]<<16|a[1+c]<<8|a[c]};a.exports.read32Bit=l;a.exports.read32BitFloat=function(a,e){return c.pack(l(a,e))};a.exports.read40Bit=
function(a,c){return g(a,c,5)};a.exports.read48Bit=function(a,c){return g(a,c,6)};a.exports.read64BitFloat=function(a,c){return k.decodeFloat64(a.slice(c,c+8))}},function(a,d,h){function g(a,d){var c=0,b=a.length%d;if(b)for(b=-1*(b-d);c<b;)a.push(0),c++}var l=h(0);a.exports.packBooleans=function(a){var e=[],c=0,b=0;g(a,8);for(var d=a.length-7;c<d;)e[b++]=parseInt(a[c].toString(2)+a[c+1].toString(2)+a[c+2].toString(2)+a[c+3].toString(2)+a[c+4].toString(2)+a[c+5].toString(2)+a[c+6].toString(2)+a[c+
7].toString(2),2),c+=8;return e};a.exports.unpackBooleans=function(a){for(var e=[],c=0,b=0,d=a.length,f;c<d;)f=l.lPadZeros(a[c].toString(2),8),e[b++]=parseInt(f[0],2),e[b++]=parseInt(f[1],2),e[b++]=parseInt(f[2],2),e[b++]=parseInt(f[3],2),e[b++]=parseInt(f[4],2),e[b++]=parseInt(f[5],2),e[b++]=parseInt(f[6],2),e[b++]=parseInt(f[7],2),c++;return e};a.exports.packCrumbs=function(a){var e=[],c=0,b=0;g(a,4);for(var d=a.length-3;c<d;)e[b++]=parseInt(l.lPadZeros(a[c].toString(2),2)+l.lPadZeros(a[c+1].toString(2),
2)+l.lPadZeros(a[c+2].toString(2),2)+l.lPadZeros(a[c+3].toString(2),2),2),c+=4;return e};a.exports.unpackCrumbs=function(a){for(var e=[],c=0,b=0,d=a.length,f;c<d;)f=l.lPadZeros(a[c].toString(2),8),e[b++]=parseInt(f[0]+f[1],2),e[b++]=parseInt(f[2]+f[3],2),e[b++]=parseInt(f[4]+f[5],2),e[b++]=parseInt(f[6]+f[7],2),c++;return e};a.exports.packNibbles=function(a){var e=[],c=0,b=0,d=a.length;for(d%2&&a.push(0);c<d;)e[b++]=parseInt(a[c].toString(16)+a[c+1].toString(16),16),c+=2;return e};a.exports.unpackNibbles=
function(a){for(var e=[],c=0,b=0,d=a.length;c<d;)e[b++]=parseInt(a[c].toString(16)[0],16),e[b++]=parseInt(a[c].toString(16)[1],16),c++;return e}},function(a,d,h){function g(a,d,f){f=c.getType(d,void 0===f?10:f,!0);a=f.char?a.slice(0,d.bits/8):a;return e.toBytes(c.turnToArray(a),f)}function l(a,e,f){return k.fromBytes(a,c.getType(e,void 0===f?10:f,!0))}var e=h(3),k=h(7),c=h(0);a.exports.pack=g;a.exports.findString=function(a,c){for(var b,e=0;e<a.length;e++)if(b=l(a.slice(e,e+c.length+1),{bits:8*c.length,
"char":!0}),b==c)return e;return-1};a.exports.unpack=l;a.exports.packArray=function(a,d,f){return e.toBytes(a,c.getType(d,void 0===f?10:f,!1))};a.exports.unpackArray=function(a,e,f){return k.fromBytes(a,c.getType(e,void 0===f?10:f,!1))};a.exports.unpackStruct=function(a,c,f){f=void 0===f?10:f;for(var b=a.length,e=0,d=0;d<c.length;d++)e+=c[d].bits/8;if(b<e)return[];b=[];for(d=e=0;e<c.length;){var m=8>c[e].bits?1:c[e].bits/8;b=b.concat(l(a.slice(d,d+m),c[e],f));d+=m;e++}return b};a.exports.packStruct=
function(a,c,f){f=void 0===f?10:f;if(a.length<c.length)return[];for(var b=[],e=0;e<c.length;e++)b=b.concat(g(a[e],c[e],f));return b}},function(a,d){a.exports=function(){this.chunkId="";this.chunkSize=0;this.fmtChunkId=this.format="";this.validBitsPerSample=this.cbSize=this.bitsPerSample=this.blockAlign=this.byteRate=this.sampleRate=this.numChannels=this.audioFormat=this.fmtChunkSize=0;this.factChunkId="";this.factChunkSize=0;this.factChunkData=[];this.dwSampleLength=0;this.cueChunkId="";this.cueChunkSize=
-1;this.cueChunkData=[];this.dataChunkId="";this.dataChunkSize=0;this.bextChunkId="";this.bextChunkSize=0;this.bextChunkData=[]}},function(a,d,h){function g(a,e){(void 0===e?0:e)||(b.be="RIFX"==a.chunkId);e=c.packArray(a.chunkId,m).concat(c.pack(a.chunkSize,b),c.packArray(a.format,m),l(a.subChunks,b.be));if("RIFF"==a.chunkId||"RIFX"==a.chunkId)e=new Uint8Array(e);return e}function l(a,e){for(var f=[],d=0;d<a.length;)f="LIST"==a[d].chunkId?f.concat(g(a[d],e)):f.concat(c.packArray(a[d].chunkId,m),c.pack(a[d].chunkSize,
b),a[d].chunkData),d++;return f}function e(a){for(var c=[],b=12;b<a.length;)c.push(k(a,b)),b+=8+c[c.length-1].chunkSize;return c}function k(a,d){var f={chunkId:c.unpackArray(a.slice(d,d+4),m),chunkSize:c.unpack(a.slice(d+4,d+8),b)};"LIST"==f.chunkId?(f.format=c.unpackArray(a.slice(8,12),m),f.subChunks=e(a.slice(d,d+f.chunkSize))):f.chunkData=a.slice(d+8,d+8+f.chunkSize);return f}var c=h(19),b=c.uInt32,m=c.chr;a.exports.read=function(a){a=[].slice.call(a);var f=c.unpackArray(a.slice(0,4),m);b.be="RIFX"==
f;return{chunkId:f,chunkSize:c.unpack(a.slice(4,8),b),format:c.unpackArray(a.slice(8,12),m),subChunks:e(a)}};a.exports.write=g},function(a,d,h){function g(a,b,d){d=void 0===d?10:d;var c=[];b.char?c=b.char?a.slice(0,b.realBits/8):a:Array.isArray(a)||(c=[a]);return e.toBytes(c,e.getType(b,d))}function l(a,b,d){d=void 0===d?10:d;a=e.fromBytes(a.slice(0,8>b.bits?b.bits:b.realBits/8),e.getType(b,d));return a=b.char?a.slice(0,b.bits/8):a[0]}var e=h(20),k=h(8);d.pack=g;d.unpack=l;d.packArray=function(a,
b,d){return e.toBytes(a,e.getType(b,void 0===d?10:d))};d.unpackArray=function(a,b,d){return e.fromBytes(a,e.getType(b,void 0===d?10:d))};d.unpackStruct=function(a,b,d){d=void 0===d?10:d;for(var c=a.length,e=0,k=0;k<b.length;k++)e+=b[k].realBits/8;if(c<e)return[];c=[];for(k=e=0;e<b.length;){var m=8>b[e].bits?1:b[e].realBits/8;c=c.concat(l(a.slice(k,k+m),b[e],d));k+=m;e++}return c};d.packStruct=function(a,b,e){e=void 0===e?10:e;if(a.length<b.length)return[];for(var c=[],d=0;d<b.length;d++)c=c.concat(g(a[d],
b[d],e));return c};d.findString=function(a,b){for(var c,e=0;e<a.length;e++)if(c=l(a.slice(e,e+b.length+1),new k({bits:8*b.length,"char":!0})),c==b)return e;return-1};d.Type=k;d.chr=new k({bits:8,"char":!0});d.fourCC=new k({bits:32,"char":!0});d.bool=new k({bits:1});d.int2=new k({bits:2,signed:!0});d.uInt2=new k({bits:2});d.int4=new k({bits:4,signed:!0});d.uInt4=new k({bits:4});d.int8=new k({bits:8,signed:!0});d.uInt8=new k({bits:8});d.int16=new k({bits:16,signed:!0});d.uInt16=new k({bits:16});d.float16=
new k({bits:16,"float":!0});d.int24=new k({bits:24,signed:!0});d.uInt24=new k({bits:24});d.int32=new k({bits:32,signed:!0});d.uInt32=new k({bits:32});d.float32=new k({bits:32,"float":!0});d.int40=new k({bits:40,signed:!0});d.uInt40=new k({bits:40});d.int48=new k({bits:48,signed:!0});d.uInt48=new k({bits:48});d.float64=new k({bits:64,"float":!0});d.int16BE=new k({bits:16,signed:!0,be:!0});d.uInt16BE=new k({bits:16,be:!0});d.float16BE=new k({bits:16,"float":!0,be:!0});d.int24BE=new k({bits:24,signed:!0,
be:!0});d.uInt24BE=new k({bits:24,be:!0});d.int32BE=new k({bits:32,signed:!0,be:!0});d.uInt32BE=new k({bits:32,be:!0});d.float32BE=new k({bits:32,"float":!0,be:!0});d.int40BE=new k({bits:40,signed:!0,be:!0});d.uInt40BE=new k({bits:40,be:!0});d.int48BE=new k({bits:48,signed:!0,be:!0});d.uInt48BE=new k({bits:48,be:!0});d.float64BE=new k({bits:64,"float":!0,be:!0})},function(a,d,h){var g=h(8),l=h(5);d.getType=function(a,d){a=Object.assign(new g({}),a);a.base=d;return a};d.toBytes=function(a,d){for(var c=
0,b=0,e=a.length,f=[];c<e;)b=d.writer(f,d.overflow(a[c]),b),c++;d.be&&l(f,d.offset);if(10!=d.base){a=d.base;c=0;for(b=f.length;c<b;)f[c]=f[c].toString(a),c++;a=0;c=f.length;for(d=8>d.realBits?(2==d.base?d.bits:5>d.bits?1:2)+1:(2==d.base?8:2)+1;a<c;)f[a]=Array(d-f[a].length).join("0")+f[a],a++}return f};d.fromBytes=function(a,d){d.be&&l(a,d.offset);if(10!=d.base)for(var c=d.base,b=0,e=a.length;b<e;)a[b]=parseInt(a[b],c),b++;c=[];b=0;for(e=a.length-(d.offset-1);b<e;)c.push(d.overflow(d.sign(d.reader(a,
b,d)))),b+=d.offset;d.char&&(c=c.join(""));return c}},function(a,d){function h(a,b,c){--c;for(var d="";0<=c;){var e=a[c+b].toString(2);d+=Array(9-e.length).join("0")+e;c--}return parseInt(d,2)}var g=new Float32Array(1),l=new Int32Array(g.buffer),e=new Float64Array(1),k=new Uint32Array(e.buffer),c={read8Bit:function(a,b){return a[b]},read16Bit:function(a,b){return a[1+b]<<8|a[b]},read16BitFloat:function(a,b){var c=parseInt;a=[a[b],a[b+1]];b="";for(var d=0,e=a.length;d<e;){var f=a[d].toString(2);b=
Array(9-f.length).join("0")+f+b;d++}c=c(b,2);a=(c&31744)>>10;b=c&1023;return(a?Math.pow(2,a-15)*(1+b/1024):b/1024*.00006103515625)*(c>>15?-1:1)},read24Bit:function(a,b){return a[2+b]<<16|c.read16Bit(a,b)},read32Bit:function(a,b){return(a[3+b]<<24|c.read24Bit(a,b))>>>0},read32BitFloat:function(a,b){l[0]=c.read32Bit(a,b);return g[0]},read40Bit:function(a,b){return h(a,b,5)},read48Bit:function(a,b){return h(a,b,6)},read53Bit:function(a,b){return h(a,b,7)},read64BitFloat:function(a,b){k[0]=c.read32Bit(a,
b);k[1]=c.read32Bit(a,b+4);return e[0]},readChar:function(a,b,c){var d="",e=0;for(c=c.bits/8;e<c;)d+=String.fromCharCode(a[b+e]),e++;return d}},b={write64BitFloat:function(a,c,d){e[0]=c;d=b.write32Bit(a,k[0],d);return b.write32Bit(a,k[1],d)},write53Bit:function(a,c,d){d=b.write48Bit(a,c,d);a[d++]=Math.floor(c/Math.pow(2,48))&255;return d},write48Bit:function(a,c,d){d=b.write40Bit(a,c,d);a[d++]=Math.floor(c/Math.pow(2,40))&255;return d},write40Bit:function(a,c,d){d=b.write32Bit(a,c,d);a[d++]=Math.floor(c/
Math.pow(2,32))&255;return d},write32BitFloat:function(a,c,d){g[0]=c;return d=b.write32Bit(a,l[0],d)},write32Bit:function(a,c,d){d=b.write24Bit(a,c,d);a[d++]=c>>>24&255;return d},write24Bit:function(a,c,d){d=b.write16Bit(a,c,d);a[d++]=c>>>16&255;return d},write16Bit:function(a,b,c){a[c++]=b&255;a[c++]=b>>>8&255;return c},write16BitFloat:function(a,b,c){g[0]=b;var d=l[0];b=d>>16&32768;var e=d>>12&2047;d=d>>23&255;103<=d&&(b=(b|d-112<<10|e>>1)+(e&1));a[c]=b&255;a[c+1]=b>>>8&255;return c+2},write8Bit:function(a,
b,c){a[c++]=b&255;return c},write4Bit:function(a,b,c){a[c++]=b&15;return c},write2Bit:function(a,b,c){a[c++]=0>b?b+4:b;return c},write1Bit:function(a,b,c){a[c++]=b?1:0;return c},writeString:function(a,b,c){a[c++]=b.charCodeAt(0);return c}};d.BitWriter=b;d.BitReader=c}]);
