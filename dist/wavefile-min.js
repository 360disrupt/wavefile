/*
 wavefile
 Read & write wave files with 8, 16, 24, 32 & 64-bit data.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/wavefile

 byte-data
 Readable data to and from byte buffers.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/byte-data

 bitdepth
 Change the bit depth of samples to and from 8, 16, 24, 32 & 64-bit.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/bitdepth

 endianness
 Swap endianness in byte arrays.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/endianness

 riff-chunks
 Read and write the chunks of RIFF and RIFX files.
 Copyright (c) 2017 Rafael da Silva Rocha.
 https://github.com/rochars/riff-chunks

*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(a){var b=function(){};b.prototype=a;return new b};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(f){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;
$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var f=$jscomp.setPrototypeOf;f(a,b)}else for(f in b)if("prototype"!=f)if(Object.defineProperties){var g=Object.getOwnPropertyDescriptor(b,f);g&&Object.defineProperty(a,f,g)}else a[f]=b[f];a.superClass_=b.prototype};$jscomp.owns=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,f){a!=Array.prototype&&a!=Object.prototype&&(a[b]=f.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,f,g){if(b){f=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var l=a[g];l in f||(f[l]={});f=f[l]}a=a[a.length-1];g=f[a];b=b(g);b!=g&&null!=b&&$jscomp.defineProperty(f,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Object.assign",function(a){return a?a:function(a,f){for(var b=1;b<arguments.length;b++){var l=arguments[b];if(l)for(var k in l)$jscomp.owns(l,k)&&(a[k]=l[k])}return a}},"es6","es3");
$jscomp.polyfill("Object.is",function(a){return a?a:function(a,f){return a===f?0!==a||1/a===1/f:a!==a&&f!==f}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(a){return a?a:function(a,f){var b=this;b instanceof String&&(b=String(b));var l=b.length;for(f=f||0;f<l;f++)if(b[f]==a||Object.is(b[f],a))return!0;return!1}},"es7","es3");
$jscomp.checkStringArgs=function(a,b,f){if(null==a)throw new TypeError("The 'this' value for String.prototype."+f+" must not be null or undefined");if(b instanceof RegExp)throw new TypeError("First argument to String.prototype."+f+" must not be a regular expression");return a+""};$jscomp.polyfill("String.prototype.includes",function(a){return a?a:function(a,f){return-1!==$jscomp.checkStringArgs(this,a,"includes").indexOf(a,f||0)}},"es6","es3");
(function(a){function b(g){if(f[g])return f[g].exports;var l=f[g]={i:g,l:!1,exports:{}};a[g].call(l.exports,l,l.exports,b);l.l=!0;return l.exports}var f={};b.m=a;b.c=f;b.d=function(a,l,k){b.o(a,l)||Object.defineProperty(a,l,{configurable:!1,enumerable:!0,get:k})};b.n=function(a){var g=a&&a.__esModule?function(){return a["default"]}:function(){return a};b.d(g,"a",g);return g};b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};b.p="";return b(b.s=6)})([function(a,b,f){function g(c,
a,d){c[d]=l(c[d],a)}function l(a,d){var h=a.length+1;2==d?h=8:16==d&&(h=2);return c(a,h)}function k(c,a,d){2==a&&4>c[d].length&&(c[d]=Array(5-c[d].length).join("0")+c[d])}function e(c,a,d){(2==a||16==a)&&2>c[d].length&&(c[d]="0"+c[d])}function c(c,a){for(;c.length<a;)c="0"+c;return c}function h(c,a,d){d=void 0===d?g:d;if(10!=a)for(var h=0,e=c.length;h<e;)c[h]=c[h].toString(a),d(c,a,h),h++}var d=f(11),m=f(1);a.exports.makeBigEndian=function(c,a,h){a&&d(c,m.BitDepthOffsets[h])};a.exports.bytesToBase=
h;a.exports.outputToBase=function(c,a,d){4==a?h(c,d,k):2==a?h(c,d,e):1==a?h(c,d,function(){}):h(c,d)};a.exports.turnToArray=function(c){Array.isArray(c)||"string"==typeof c||(c=[c]);return c};a.exports.signed=function(c,a){c>parseInt(a/2,10)-1&&(c-=a);return c};a.exports.bytesToInt=function(c,a){if(10!=a)for(var d=0,h=c.length;d<h;)c[d]=parseInt(c[d],a),d++};a.exports.fixByteArraySize=function(c,a){var d=0,h=c.length%a;if(h)for(h=-1*(h-a);d<h;)c.push(0),d++};a.exports.padding=g;a.exports.paddingNibble=
k;a.exports.paddingCrumb=e;a.exports.bytePadding=l;a.exports.lPadZeros=c},function(a,b){a.exports.BitDepthOffsets={1:1,2:1,4:1,8:1,16:2,24:3,32:4,40:5,48:6,64:8};a.exports.BitDepthMaxValues={2:4,4:16,8:256,16:65536,24:16777216,32:4294967296,40:1099511627776,48:281474976710656}},function(a,b){a.exports={format:"Not a supported format.",wave:"Could not find the 'WAVE' format identifier","fmt ":"Could not find the 'fmt ' chunk",data:"Could not find the 'data' chunk",fact:"Could not find the 'fact' chunk",
bitDepth:"Invalid bit depth.",numChannels:"Invalid number of channels.",sampleRate:"Invalid sample rate."}},function(a,b,f){var g=f(9),l=f(12);b=f(14);f=f(1);a.exports.pack=function(a,e,c){c=void 0===c?10:c;e=Object.assign({},e);e.base=c;e.single=!0;a=e.char?a[0]:a;return g.toBytes(a,e.bitDepth,e)};a.exports.unpack=function(a,e,c){c=void 0===c?10:c;e=Object.assign({},e);e.base=c;e.single=!0;return l.fromBytes(a,e.bitDepth,e)};a.exports.packSequence=function(a,e,c){c=void 0===c?10:c;e=Object.assign({},
e);e.base=c;e.single=!1;return g.toBytes(a,e.bitDepth,e)};a.exports.unpackSequence=function(a,e,c){c=void 0===c?10:c;e=Object.assign({},e);e.base=c;e.single=!1;return l.fromBytes(a,e.bitDepth,e)};a.exports.char={bitDepth:8,"char":!0,single:!0};a.exports.bool={bitDepth:1,single:!0};a.exports.int2={bitDepth:2,signed:!0,single:!0};a.exports.uInt2={bitDepth:2,single:!0};a.exports.int4={bitDepth:4,signed:!0,single:!0};a.exports.uInt4={bitDepth:4,single:!0};a.exports.int8={bitDepth:8,signed:!0,single:!0};
a.exports.uInt8={bitDepth:8,single:!0};a.exports.int16={bitDepth:16,signed:!0,single:!0};a.exports.uInt16={bitDepth:16,single:!0};a.exports.float16={bitDepth:16,"float":!0,single:!0};a.exports.int24={bitDepth:24,signed:!0,single:!0};a.exports.uInt24={bitDepth:24,single:!0};a.exports.int32={bitDepth:32,signed:!0,single:!0};a.exports.uInt32={bitDepth:32,single:!0};a.exports.float32={bitDepth:32,"float":!0,single:!0};a.exports.int40={bitDepth:40,signed:!0,single:!0};a.exports.uInt40={bitDepth:40,single:!0};
a.exports.int48={bitDepth:48,signed:!0,single:!0};a.exports.uInt48={bitDepth:48,single:!0};a.exports.float64={bitDepth:64,"float":!0,single:!0};a.exports.floatLE={"float":!0,single:!0};a.exports.intLE={signed:!0,single:!0};a.exports.uIntLE={single:!0};a.exports.floatBE={"float":!0,single:!0,be:!0};a.exports.intBE={signed:!0,single:!0,be:!0};a.exports.uIntBE={single:!0,be:!0};a.exports.floatArrayLE={"float":!0};a.exports.intArrayLE={signed:!0};a.exports.uIntArrayLE={base:10};a.exports.floatArrayBE=
{"float":!0,be:!0};a.exports.intArrayBE={signed:!0,be:!0};a.exports.uIntArrayBE={be:!0};a.exports.str={"char":!0};a.exports.findString=function(a,e){for(var c,h=0;h<a.length;h++)if(c=l.fromBytes(a.slice(h,h+e.length),8,{"char":!0}),c==e)return h;return-1};a.exports.toBytes=g.toBytes;a.exports.fromBytes=l.fromBytes;a.exports.packBooleans=b.packBooleans;a.exports.unpackBooleans=b.unpackBooleans;a.exports.packCrumbs=b.packCrumbs;a.exports.unpackCrumbs=b.unpackCrumbs;a.exports.packNibbles=b.packNibbles;
a.exports.unpackNibbles=b.unpackNibbles;a.exports.BitDepthOffsets=f.BitDepthOffsets;a.exports.BitDepthMaxValues=f.BitDepthMaxValues},function(a,b,f){function g(c,a){a=void 0===a?!1:a;for(var d="",h=0,e=c.length;h<e;){var b=l.lPadZeros(c[h].toString(2),8);d=a?d+b:b+d;h++}return d}var l=f(0),k=new Float32Array(1),e=new Int32Array(k.buffer);a.exports.getBinary=g;a.exports.decodeFloat16=function(c){c=parseInt(g(c,!0),2);var a=(c&31744)>>10,d=c&1023;return(a?Math.pow(2,a-15)*(1+d/1024):d/1024*.00006103515625)*
(c>>15?-1:1)};a.exports.decodeFloat64=function(c){if("0,0,0,0,0,0,0,0"==c.toString())return 0;c=g(c);for(var a="1"+c.substr(12,52),d=1,e=0,b=0;b<a.length;)e+=d*parseInt(a.charAt(b),10),d/=2,b++;return("1"==c.charAt(0)?-1:1)*e*Math.pow(2,parseInt(c.substr(1,11),2)-1023)};a.exports.toFloat64=function(c){if(0==c)return[0,0];var a=0;0>=c&&(a=2147483648,c=-c);var d=Math.floor(Math.log(c)/Math.log(2)),e=Math.floor(c/Math.pow(2,d)*Math.pow(2,52));c=e&4294967295;e/=Math.pow(2,32);return[a|d+1023<<20|e&1048575,
c]};a.exports.toHalf=function(c){k[0]=c;var a=e[0];c=a>>16&32768;var d=a>>12&2047;a=a>>23&255;return 103>a?c:(c|a-112<<10|d>>1)+(d&1)}},function(a,b){function f(a){g[0]=a;return l[0]}b=new Int8Array(4);var g=new Int32Array(b.buffer,0,1),l=new Float32Array(b.buffer,0,1);a.exports=f;a.exports.pack=f;a.exports.unpack=function(a){l[0]=a;return g[0]}},function(a,b,f){var g=f(7),l=f(2),k=f(8),e=f(16);b=function(a){var c=k.call(this)||this;a&&c.fromBuffer(a);return c};$jscomp.inherits(b,k);b.unpackNibbles=
k.unpackNibbles;b.packNibbles=k.packNibbles;b.unpackCrumbs=k.unpackCrumbs;b.packCrumbs=k.packCrumbs;b.unpackBooleans=k.unpackBooleans;b.packBooleans=k.packBooleans;b.read64Bit=k.read64Bit;b.read48Bit=k.read48Bit;b.read40Bit=k.read40Bit;b.read32BitFloat=k.read32BitFloat;b.read32Bit=k.read32Bit;b.read24Bit=k.read24Bit;b.read16BitFloat=k.read16BitFloat;b.read16Bit=k.read16Bit;b.read8Bit=k.read8Bit;b.read1Bit=k.read1Bit;b.readChar=k.readChar;b.fromBytes=k.fromBytes;b.writeString=k.writeString;b.write1Bit=
k.write1Bit;b.write2Bit=k.write2Bit;b.write4Bit=k.write4Bit;b.write8Bit=k.write8Bit;b.write16BitFloat=k.write16BitFloat;b.write16Bit=k.write16Bit;b.write24Bit=k.write24Bit;b.write32Bit=k.write32Bit;b.write32BitFloat=k.write32BitFloat;b.write40Bit=k.write40Bit;b.write48Bit=k.write48Bit;b.write64Bit=k.write64Bit;b.toBytes=k.toBytes;b.prototype.fromScratch=function(a,h,d,e,b){b=void 0===b?{}:b;b.container||(b.container="RIFF");var c=parseInt(d,10)/8;this.chunkSize=36+e.length*c;this.fmtChunkSize=16;
this.byteRate=a*c*h;this.blockAlign=a*c;this.chunkId=b.container;this.format="WAVE";this.fmtChunkId="fmt ";this.audioFormat=this.headerFormats_[d];this.numChannels=a;this.sampleRate=h;this.bitsPerSample=parseInt(d,10);this.dataChunkId="data";this.dataChunkSize=e.length*c;this.samples_=e;this.bitDepth_=d};b.prototype.fromBuffer=function(a){this.readRIFFChunk_(a);var c="RIFX"==this.chunkId;a=e.read(a,c);this.readFmtChunk_(a.subChunks);this.readFactChunk_(a.subChunks);this.readBextChunk_(a.subChunks);
this.readCueChunk_(a.subChunks);this.readDataChunk_(a.subChunks,{be:c,single:!0});this.bitDepth_=3==this.audioFormat&&32==this.bitsPerSample?"32f":this.bitsPerSample.toString()};b.prototype.toBuffer=function(){this.checkWriteInput_();return new Uint8Array(this.createWaveFile_())};b.prototype.toRIFF=function(){this.chunkId="RIFF";this.LEorBE()};b.prototype.toRIFX=function(){this.chunkId="RIFX";this.LEorBE()};b.prototype.toBitDepth=function(a){g.toBitDepth(this.samples_,this.bitDepth_,a);this.fromScratch(this.numChannels,
this.sampleRate,a,this.samples_,{container:this.chunkId})};b.prototype.interleave=function(){var a=[],e,d,b=this.samples_[0].length;for(e=0;e<b;e++)for(d=0;d<this.samples_.length;d++)a.push(this.samples_[d][e]);this.samples_=a};b.prototype.deInterleave=function(){var a=[],e;for(e=0;e<this.numChannels;e++)a[e]=[];e=0;for(var d;e<this.samples_.length;){for(d=0;d<this.numChannels;d++)a[d].push(this.samples_[e+d]);e+=d}this.samples_=a};b.prototype.checkWriteInput_=function(){this.validateBitDepth_();
this.validateNumChannels_();this.validateSampleRate_()};b.prototype.validateBitDepth_=function(){if(!this.headerFormats_[this.bitDepth_])throw Error(l.bitDepth);return!0};b.prototype.validateNumChannels_=function(){var a=this.numChannels*this.bitsPerSample/8;if(1>this.numChannels||65535<a)throw Error(l.numChannels);return!0};b.prototype.validateSampleRate_=function(){var a=this.bitsPerSample/8*this.numChannels*this.sampleRate;if(1>this.sampleRate||4294967295<a)throw Error(l.sampleRate);return!0};
a.exports=b},function(a,b){var f=new Float32Array(1),g={8:256,16:65536,24:16777216,32:4294967296,"32f":1,64:1},l={intToInt:function(a,e){return a=0<a?parseInt(a/e.oldPositive*e.newPositive,10):parseInt(a/e.oldNegative*e.newNegative,10)},floatToInt:function(a,e){return 0<a?a*e.newPositive:a*e.newNegative},intToFloat:function(a,e){return 0<a?a/e.oldPositive:a/e.oldNegative},floatToFloat:function(a,e){"64"==e.original&&"32f"==e.target&&(f[0]=a,a=f[0]);return a}};a.exports.toBitDepth=function(a,e,c){var h=
"8 16 24 32 32f 64".split(" ");if(-1==h.indexOf(e)||-1==h.indexOf(c))throw Error("Invalid bit depth.");h=["32f","64"].includes(e)?"float":"int";var d=["32f","64"].includes(c)?"Float":"Int";h=l[h+"To"+d];d=a.length;for(var b=0;b<d;b++){var k=b,f=a[b];"8"==e&&(f-=128);a[k]=f;a[b]=h(a[b],{oldNegative:g[e]/2,newNegative:g[c]/2,oldPositive:g[e]/2-1,newPositive:g[c]/2-1,original:e,target:c});k=b;f=a[b];"8"==c&&(f+=128);a[k]=f}};a.exports.BitDepthMaxValues=g},function(a,b,f){var g=f(3),l=f(2),k=g.uInt8,
e=g.uInt16,c=g.uInt32,h=g.char,d=f(15);b=function(){var a=d.call(this)||this;a.headerFormats_={4:17,8:1,16:1,24:1,32:1,"32f":3,64:3};a.samples_=[];return a};$jscomp.inherits(b,d);b.write=d.write;b.read=d.read;b.prototype.readRIFFChunk_=function(a){this.chunkId=g.unpackSequence(a.slice(0,4),h);if("RIFF"!=this.chunkId&&"RIFX"!=this.chunkId)throw Error(l.format);var c=this.LEorBE();this.chunkSize=g.fromBytes(a.slice(4,8),32,{be:c,single:!0});this.format=g.unpackSequence(a.slice(8,12),h);if("WAVE"!=this.format)throw Error(l.wave);
};b.prototype.LEorBE=function(){var a="RIFX"==this.chunkId;k.be=a;e.be=a;return c.be=a};b.prototype.readFmtChunk_=function(a){if(a=this.findChunk(a,"fmt "))this.fmtChunkId="fmt ",this.fmtChunkSize=a.chunkSize,this.audioFormat=g.unpack(a.chunkData.slice(0,2),e),this.numChannels=g.unpack(a.chunkData.slice(2,4),e),this.sampleRate=g.unpack(a.chunkData.slice(4,8),c),this.byteRate=g.unpack(a.chunkData.slice(8,12),c),this.blockAlign=g.unpack(a.chunkData.slice(12,14),e),this.bitsPerSample=g.unpack(a.chunkData.slice(14,
16),e),this.readFmtExtension(a);else throw Error(l["fmt "]);};b.prototype.readFmtExtension=function(a){16<this.fmtChunkSize&&(this.cbSize=g.unpack(a.chunkData.slice(16,18),e),18<this.fmtChunkSize&&(this.validBitsPerSample=g.unpack(a.chunkData.slice(18,20),e)))};b.prototype.readFactChunk_=function(a){if(a=this.findChunk(a,"fact"))this.factChunkId="fact",this.factChunkSize=a.chunkSize,this.dwSampleLength=g.unpack(a.chunkData.slice(0,4),c);else if(this.enforceFact)throw Error(l.fact);};b.prototype.readBextChunk_=
function(a){if(a=this.findChunk(a,"bext"))this.bextChunkId="bext",this.bextChunkSize=a.chunkSize,this.bextChunkData=a.chunkData};b.prototype.readCueChunk_=function(a){if(a=this.findChunk(a,"cue "))this.cueChunkId="cue ",this.cueChunkSize=a.chunkSize,this.cueChunkData=a.chunkData};b.prototype.readDataChunk_=function(a,c){if(a=this.findChunk(a,"data"))this.dataChunkId="data",this.dataChunkSize=a.chunkSize,this.samplesFromBytes_(a.chunkData,c);else throw Error(l.data);};b.prototype.samplesFromBytes_=
function(a,c){c.signed=8==this.bitsPerSample?!1:!0;32==this.bitsPerSample&&3==this.audioFormat&&(c.float=!0);c.single=!1;this.samples_=4==this.bitsPerSample?g.pack(a,k):g.fromBytes(a,this.bitsPerSample,c)};b.prototype.findChunk=function(a,c){for(var d=0;d<a.length;d++)if(a[d].chunkId==c)return a[d];return null};b.prototype.samplesToBytes_=function(a){32==this.bitsPerSample&&3==this.audioFormat&&(a.float=!0);a=g.toBytes(this.samples_,4==this.bitsPerSample?8:this.bitsPerSample,a);a.length%2&&a.push(0);
return a};b.prototype.getBextBytes_=function(){return this.bextChunkId?[].concat(g.packSequence(this.bextChunkId,h),g.pack(this.bextChunkSize,c),this.bextChunkData):[]};b.prototype.getCueBytes_=function(){return this.cueChunkId?[].concat(g.packSequence(this.cueChunkId,h),g.pack(this.cueChunkSize,c),this.cueChunkData):[]};b.prototype.getFactBytes_=function(){return this.factChunkId?[].concat(g.packSequence(this.factChunkId,h),g.pack(this.factChunkSize,c),g.pack(this.dwSampleLength,c)):[]};b.prototype.getCbSizeBytes_=
function(){return 16<this.fmtChunkSize?g.pack(this.cbSize,e):[]};b.prototype.getValidBitsPerSampleBytes_=function(){return 18<this.fmtChunkSize?g.pack(this.validBitsPerSample,e):[]};b.prototype.createWaveFile_=function(){var a={be:"RIFX"==this.chunkId};return g.packSequence(this.chunkId,h).concat(g.pack(this.chunkSize,c),g.packSequence(this.format,h),this.getBextBytes_(),g.packSequence(this.fmtChunkId,h),g.pack(this.fmtChunkSize,c),g.pack(this.audioFormat,e),g.pack(this.numChannels,e),g.pack(this.sampleRate,
c),g.pack(this.byteRate,c),g.pack(this.blockAlign,e),g.pack(this.bitsPerSample,e),this.getCbSizeBytes_(),this.getValidBitsPerSampleBytes_(),this.getFactBytes_(),g.packSequence(this.dataChunkId,h),g.pack(this.dataChunkSize,c),this.samplesToBytes_(a),this.getCueBytes_())};a.exports=b},function(a,b,f){var g=f(10),l=f(0);a.exports.toBytes=function(a,e,c){c=void 0===c?{base:10}:c;a=l.turnToArray(a);var b=c.char?g.writeString:g["write"+e+"Bit"+(c.float?"Float":"")];for(var d=0,f=0,k=a.length,n=[];d<k;)f=
b(n,a,d,f),d++;a=n;l.makeBigEndian(a,c.be,e);l.outputToBase(a,e,c.base);c.buffer&&(a=new Uint8Array(a));return a}},function(a,b,f){function g(a,c,b,d){a[d++]=c[b]&255;a[d++]=c[b]>>>8&255;a[d++]=c[b]>>>16&255;a[d++]=c[b]>>>24&255;return d}var l=f(4),k=f(5);a.exports.write64Bit=function(a,c,b,d){c=l.toFloat64(c[b]);d=g(a,c,1,d);return g(a,c,0,d)};a.exports.write48Bit=function(a,c,b,d){a[d++]=c[b]&255;a[d++]=c[b]>>8&255;a[d++]=c[b]>>16&255;a[d++]=c[b]>>24&255;a[d++]=c[b]/4294967296&255;a[d++]=c[b]/1099511627776&
255;return d};a.exports.write40Bit=function(a,c,b,d){a[d++]=c[b]&255;a[d++]=c[b]>>8&255;a[d++]=c[b]>>16&255;a[d++]=c[b]>>24&255;a[d++]=c[b]/4294967296&255;return d};a.exports.write32BitFloat=function(a,c,b,d){c=k.unpack(c[b]);a[d++]=c&255;a[d++]=c>>>8&255;a[d++]=c>>>16&255;a[d++]=c>>>24&255;return d};a.exports.write32Bit=g;a.exports.write24Bit=function(a,c,b,d){a[d++]=c[b]&255;a[d++]=c[b]>>>8&255;a[d++]=c[b]>>>16&255;return d};a.exports.write16Bit=function(a,c,b,d){a[d++]=c[b]&255;a[d++]=c[b]>>>8&
255;return d};a.exports.write16BitFloat=function(a,c,b,d){c=l.toHalf(c[b]);a[d++]=c>>>8&255;a[d++]=c&255;return d};a.exports.write8Bit=function(a,c,b,d){a[d++]=c[b]&255;return d};a.exports.write4Bit=function(a,c,b,d){a[d++]=c[b]&15;return d};a.exports.write2Bit=function(a,c,b,d){a[d++]=0>c[b]?c[b]+4:c[b];return d};a.exports.write1Bit=function(a,c,b,d){a[d++]=c[b]?1:0;return d};a.exports.writeString=function(a,c,b,d){a[d++]=c.charCodeAt(b);return d}},function(a,b){a.exports=function(a,b){for(var g=
a.length,k=0;k<g;){for(var e,c=a,h=k,d=0,f=b-1,p=parseInt(b/2,10);d<p;)e=c[h+d],c[h+d]=c[h+f],c[h+f]=e,d++,f--;k+=b}}},function(a,b,f){function g(a,b,d,g){var c=[],h=0,f=0,l=k.BitDepthOffsets[b],m=a.length-(l-1);b=k.BitDepthMaxValues[b];for(d=d?e.signed:function(a,c){return a};h<m;)c[f]=d(g(a,h),b),h+=l,f++;return c}var l=f(13),k=f(1),e=f(0);a.exports.fromBytes=function(a,b,d){d=void 0===d?{base:10}:d;e.makeBigEndian(a,d.be,b);e.bytesToInt(a,d.base);a=g(a,b,d.signed,d.char?l.readChar:l["read"+(2==
b||4==b?8:b)+"Bit"+(d.float?"Float":"")]);d.char&&(a=a.join(""));d.single&&(a=a[0]);return a}},function(a,b,f){function g(a,c,b){--b;for(var d="";0<=b;)d+=k.bytePadding(a[b+c].toString(2),2),b--;return parseInt(d,2)}function l(a,c){return(a[3+c]<<24|a[2+c]<<16|a[1+c]<<8|a[c])>>>0}var k=f(0),e=f(4),c=f(5);a.exports.readChar=function(a,c){return String.fromCharCode(a[c])};a.exports.read1Bit=function(a,c){return parseInt(a[c],2)};a.exports.read8Bit=function(a,c){return a[c]};a.exports.read16Bit=function(a,
c){return a[1+c]<<8|a[c]};a.exports.read16BitFloat=function(a,c){return e.decodeFloat16(a.slice(c,c+2))};a.exports.read24Bit=function(a,c){return a[2+c]<<16|a[1+c]<<8|a[c]};a.exports.read32Bit=l;a.exports.read32BitFloat=function(a,b){return c.pack(l(a,b))};a.exports.read40Bit=function(a,c){return g(a,c,5)};a.exports.read48Bit=function(a,c){return g(a,c,6)};a.exports.read64Bit=function(a,c){return e.decodeFloat64(a.slice(c,c+8))}},function(a,b,f){var g=f(0);a.exports.packBooleans=function(a){var b=
[],e=0,c=0;g.fixByteArraySize(a,8);for(var f=a.length-7;e<f;)b[c++]=parseInt(a[e].toString(2)+a[e+1].toString(2)+a[e+2].toString(2)+a[e+3].toString(2)+a[e+4].toString(2)+a[e+5].toString(2)+a[e+6].toString(2)+a[e+7].toString(2),2),e+=8;return b};a.exports.unpackBooleans=function(a){for(var b=[],e=0,c=0,f=a.length,d;e<f;)d=g.lPadZeros(a[e].toString(2),8),b[c++]=parseInt(d[0],2),b[c++]=parseInt(d[1],2),b[c++]=parseInt(d[2],2),b[c++]=parseInt(d[3],2),b[c++]=parseInt(d[4],2),b[c++]=parseInt(d[5],2),b[c++]=
parseInt(d[6],2),b[c++]=parseInt(d[7],2),e++;return b};a.exports.packCrumbs=function(a){var b=[],e=0,c=0;g.fixByteArraySize(a,4);for(var f=a.length-3;e<f;)b[c++]=parseInt(g.lPadZeros(a[e].toString(2),2)+g.lPadZeros(a[e+1].toString(2),2)+g.lPadZeros(a[e+2].toString(2),2)+g.lPadZeros(a[e+3].toString(2),2),2),e+=4;return b};a.exports.unpackCrumbs=function(a){for(var b=[],e=0,c=0,f=a.length,d;e<f;)d=g.lPadZeros(a[e].toString(2),8),b[c++]=parseInt(d[0]+d[1],2),b[c++]=parseInt(d[2]+d[3],2),b[c++]=parseInt(d[4]+
d[5],2),b[c++]=parseInt(d[6]+d[7],2),e++;return b};a.exports.packNibbles=function(a){var b=[],e=0,c=0,g=a.length;for(g%2&&a.push(0);e<g;)b[c++]=parseInt(a[e].toString(16)+a[e+1].toString(16),16),e+=2;return b};a.exports.unpackNibbles=function(a){for(var b=[],e=0,c=0,g=a.length;e<g;)b[c++]=parseInt(a[e].toString(16)[0],16),b[c++]=parseInt(a[e].toString(16)[1],16),e++;return b}},function(a,b){a.exports=function(){this.chunkId="";this.chunkSize=0;this.fmtChunkId=this.format="";this.validBitsPerSample=
this.cbSize=this.bitsPerSample=this.blockAlign=this.byteRate=this.sampleRate=this.numChannels=this.audioFormat=this.fmtChunkSize=0;this.factChunkId="";this.factChunkSize=0;this.factChunkData=[];this.dwSampleLength=0;this.cueChunkId="";this.cueChunkSize=-1;this.cueChunkData=[];this.dataChunkId="";this.dataChunkSize=0;this.bextChunkId="";this.bextChunkSize=0;this.bextChunkData=[]}},function(a,b,f){function g(a,b){void 0!==b&&b||(h.be="RIFX"==a.chunkId);b=c.packSequence(a.chunkId,d).concat(c.pack(a.chunkSize,
h),c.packSequence(a.format,d),l(a.subChunks,h.be));if("RIFF"==a.chunkId||"RIFX"==a.chunkId)b=new Uint8Array(b);return b}function l(a,b){for(var e=[],f=0;f<a.length;)e="LIST"==a[f].chunkId?e.concat(g(a[f],b)):e.concat(c.packSequence(a[f].chunkId,d),c.pack(a[f].chunkSize,h),a[f].chunkData),f++;return e}function k(a){for(var c=[],b=12;b<a.length;)c.push(e(a,b)),b+=8+c[c.length-1].chunkSize;return c}function e(a,b){var e={chunkId:c.unpackSequence(a.slice(b,b+4),d),chunkSize:c.unpack(a.slice(b+4,b+8),
h)};"LIST"==e.chunkId?(e.format=c.unpackSequence(a.slice(8,12),d),e.subChunks=k(a.slice(b,b+e.chunkSize))):e.chunkData=a.slice(b+8,b+8+e.chunkSize);return e}var c=f(3),h=c.uInt32,d=c.char;a.exports.read=function(a){a=[].slice.call(a);var b=c.unpackSequence(a.slice(0,4),d);h.be="RIFX"==b;var e=c.unpack(a.slice(4,8),h);return{chunkId:b,chunkSize:e,format:c.unpackSequence(a.slice(8,12),d),subChunks:k(a)}};a.exports.write=g}]);
